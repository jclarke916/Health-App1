<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Centurion | v222.61 Core</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root{--bg:#050505;--card:#141414;--gold:#D4AF37;--green:#00E676;--blue:#00B0FF;--purple:#D500F9;--text:#fff;--g-pro:linear-gradient(90deg,#FF5252,#D50000);--g-carb:linear-gradient(90deg,#FFAB40,#FF6D00);--g-cal:linear-gradient(90deg,#B388FF,#6200EA)}
        *{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
        body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--text);margin:0;padding:15px;font-size:14px}
        .container{max-width:500px;margin:0 auto}
        h1{text-align:center;font-weight:200;letter-spacing:5px;text-transform:uppercase;font-size:1.2rem;margin:10px 0}
        .badge-row{display:flex;justify-content:center;gap:8px;margin-bottom:15px}
        .u-badge{background:#000;padding:8px 16px;border-radius:20px;border:1px solid #333;font-size:0.6rem;font-weight:800;cursor:pointer;color:#666}
        .u-badge.active{border-color:var(--gold);color:var(--gold)}
        .status-bar{text-align:center;color:#888;font-size:0.65rem;font-weight:800;margin-bottom:10px;text-transform:uppercase}
        .controls{display:flex;gap:5px;margin-bottom:15px}
        .nav-btn{background:#111;border:1px solid #222;color:#888;padding:10px;flex:1;border-radius:8px;font-size:0.55rem;font-weight:800;cursor:pointer}
        .card, .macro-dashboard{background:var(--card);border-radius:20px;padding:20px;margin-bottom:15px;border:1px solid rgba(255,255,255,0.03);position:relative}
        .card::before{content:"";position:absolute;left:0;top:20px;bottom:20px;width:3px;background:var(--gold);border-radius:0 4px 4px 0}
        
        .label{color:#666;font-size:0.5rem;text-transform:uppercase;font-weight:900;margin-bottom:4px; display: flex; justify-content: space-between;}
        .portion-tag { color: var(--blue); }

        .value{
            font-size: 0.95rem;
            margin-bottom: 12px;
            font-weight: 500;
            cursor: pointer;
            border-bottom: 1px solid #222;
            padding-bottom: 4px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .proto-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:6px;margin-top:10px;border-top:1px solid #222;padding-top:15px}
        .proto-box{background:#0a0a0a;border:1px solid #333;padding:8px 2px;border-radius:8px;text-align:center;font-size:0.5rem;font-weight:800;cursor:pointer}
        .proto-box.active{border-color:var(--green);color:var(--green)}
        .proto-box.rec{border-color:var(--purple);color:var(--purple)}
        .p-qty{display:block;color:#fff;font-size:0.6rem;margin-bottom:2px}
        .macro-row{margin-bottom:10px}
        .macro-label{display:flex;justify-content:space-between;font-size:0.55rem;font-weight:800;color:#777;margin-bottom:3px}
        .macro-bg{height:5px;background:#222;border-radius:10px;overflow:hidden}
        .macro-fill{height:100%;border-radius:10px;transition:width 0.8s}
        .tabs{display:flex;gap:4px;margin-bottom:15px}
        .tab{flex:1;padding:10px 0;background:#111;border:1px solid #222;color:#444;border-radius:8px;font-size:0.55rem;font-weight:800;text-align:center;cursor:pointer}
        .tab.active{background:#222;color:#fff;border-color:444}
        .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.98);padding:20px;z-index:1000;overflow-y:auto}
        .modal-content{background:#0a0a0a;margin:10px auto;padding:25px;border:1px solid #333;border-radius:20px;max-width:450px}
        .chef-steps ol{padding-left:20px; color:#ccc; margin:10px 0; font-size:0.8rem; line-height:1.6;}
        .chef-steps li{margin-bottom:8px;}
        .chef-steps strong{color:var(--gold); display:block; margin-top:15px; font-size:0.75rem; border-top:1px dashed #333; padding-top:10px;}
        .juice-name{font-size:1.1rem;font-weight:900;color:#fff;text-align:center;text-transform:uppercase;cursor:pointer;border:1px dashed #333;padding:10px;border-radius:12px}
        
        .bio-section{margin-bottom:25px;padding:15px;background:rgba(255,255,255,0.03);border-radius:15px;border:1px solid rgba(255,255,255,0.05)}
        .bio-title{display:flex;justify-content:space-between;font-size:0.75rem;font-weight:800;color:#fff;margin-bottom:12px;text-transform:uppercase}
        .bar-group{display:flex;flex-direction:column;gap:8px}
        .bar-row{display:flex;align-items:center}
        .bar-lbl{width:45px;font-size:0.55rem;color:#666;font-weight:900;text-transform:uppercase}
        .bar-track{flex:1;height:8px;background:#111;border-radius:10px;margin:0 10px;border:1px solid #222;overflow:hidden}
        .bar-fill{height:100%;border-radius:10px;transition:width 1s cubic-bezier(0.4,0,0.2,1)}
        .bar-fill.past{background:#333}
        .bar-fill.now{background:var(--gold);box-shadow:0 0 10px rgba(212,175,55,0.3)}
        .bar-fill.goal{background:var(--green);box-shadow:0 0 12px rgba(0,230,118,0.4)}
        
        .rec-phase-list { position: relative; padding-left: 25px; margin-top: 20px; }
        .rec-phase-list::before { content: ''; position: absolute; left: 8px; top: 0; bottom: 0; width: 2px; background: linear-gradient(to bottom, var(--blue), var(--purple)); }
        .phase-item { position: relative; margin-bottom: 25px; }
        .phase-item::after { content: ''; position: absolute; left: -22px; top: 5px; width: 10px; height: 10px; background: var(--bg); border: 2px solid var(--blue); border-radius: 50%; }
        .phase-time { font-size: 0.6rem; font-weight: 900; color: var(--blue); text-transform: uppercase; letter-spacing: 1px; }
        .phase-title { display: block; font-size: 0.9rem; font-weight: 700; color: #fff; margin: 2px 0; }
        .phase-detail { font-size: 0.75rem; color: #999; line-height: 1.4; display: block; }
        
        .macro-pill {
            background: #1a1a1a;
            border: 1px solid #333;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.55rem;
            color: #888;
            font-weight: 800;
            letter-spacing: 0.5px;
            text-transform: uppercase;
            white-space: nowrap;
        }
        .grocery-item { padding: 8px 0; border-bottom: 1px solid #222; color: #ccc; font-size: 0.85rem; }
    </style>
</head>
<body>
<div class="container">
    <header><h1>THE CENTURION</h1>
        <div class="badge-row">
            <div id="bj" class="u-badge active" onclick="switchU('J')">üßîüèæ‚Äç‚ôÇÔ∏è JERMAINE</div>
            <div id="bs" class="u-badge" onclick="switchU('S')">üë©üèæ‚Äçü¶± SOPHIA</div>
        </div>
    </header>
    <div id="dateDisplay" class="status-bar">...</div>
    <div class="controls">
        <button class="nav-btn" onclick="changeW(-1)">PREV</button>
        <button class="nav-btn" onclick="resetD()">TODAY</button>
        <button class="nav-btn" onclick="changeW(1)">NEXT</button>
        <button class="nav-btn" onclick="openBio()" style="color:var(--green)">MY DATA</button>
    </div>
    <div id="dayTabs" class="tabs"></div>
    <div id="dayContent"></div>
</div>
<div id="masterModal" class="modal"><div class="modal-content"><span onclick="closeM()" style="float:right;cursor:pointer">&times;</span><h2 id="mTitle"></h2><div id="mSub" style="color:var(--gold);font-size:0.7rem;margin:10px 0"></div><div id="mBody" class="chef-steps" style="counter-reset:step"></div><div id="mTip" class="chef-tip"></div></div></div>

<script>
let user='J', offset=0, selDate=new Date();
let dailySnack = null; 

// GLOBAL PROTOCOL DATABASE
const pDB = {
    "HEAVY LIFT": [
        { t: "PRE", h: "Theragun", d: "Glutes, Quads, Hams. 30s each." },
        { t: "GYM", h: "Heavy Lift", d: "Main compound movement." },
        { t: "POST", h: "Chair+Sauna", d: "20m Zero-Grav + 20m Sauna." }
    ],
    "BOXING": [
        { t: "PRE", h: "Mobility", d: "Rotator cuffs & Calves." },
        { t: "GYM", h: "Boxing", d: "High intensity rounds." },
        { t: "POST", h: "Normatec", d: "Flush legs. NO SAUNA." }
    ],
    "REFORM": [
        { t: "PRE", h: "Sweep", d: "Light full body percussion." },
        { t: "GYM", h: "Reform", d: "Time under tension." },
        { t: "POST", h: "Sauna", d: "20m HGH Boost." }
    ],
    "REFORM/YOGA": [
        { t: "PRE", h: "Sweep", d: "Light full body percussion." },
        { t: "GYM", h: "Yoga", d: "Deep fascial release." },
        { t: "POST", h: "Heat", d: "Sauna or Thera Knee Heat." }
    ],
    "CS4": [
        { t: "PRE", h: "Hydrate", d: "Electrolytes." },
        { t: "GYM", h: "CS4", d: "Cardio Strength 4." },
        { t: "POST", h: "Contrast", d: "Sauna + Cold or Knee Contrast." }
    ],
    "RELAX": [
        { t: "PRE", h: "Walk", d: "Light movement." },
        { t: "GYM", h: "Relax", d: "Active recovery." },
        { t: "POST", h: "Massage", d: "Chair or Thera Knee Heat." }
    ]
};

const rDB = {
    "Sea Moss": ["92 Minerals","2 TBSP Fasted.","Thyroid & Gut support."],
    "Kombucha": ["Probiotic","4 OZ post-Lunch.","Enzyme support."],
    "Aqua Chair": ["Hydro-Massage","Align body to zero-gravity.","Jets to glutes and lats.","20 Min Duration."],
    "Sauna": ["HSP Induction","185¬∞F Range.","20 Mins total.","Heavy metal detox sweat."],
    "Theragun": ["Percussive","Float over muscles.","2m per limb.","Target Lats/Hips."],
    "Normatec": ["Compression","Level 4 Intensity.","Full leg cycle.","30m Lymphatic flush."],
    "Pre-Workout": ["Nitro-Boost","6g Citrulline Malate.","Take 20m before training."]
};

const jDB = {
    "PLASMA FLUSH": ["Recovery","3c Watermelon, 1 Lime",1,32,140],
    "TITAN RED": ["Endurance","2 Beets, 2 Carrots, Pom",3,42,185],
    "ZENITH GREEN": ["Alkalizer","4 Kale, 1 Cucumber",4,18,90],
    "APOLLO GOLD": ["Anti-Inflammatory","2 Pears, Turmeric",1,45,195]
};

const uH = {
    'J': { 
        past: { bf: 17.9, m: 99.4, w: 210.8, vf: 11, bmr: 1950, age: 38 }, 
        now:  { bf: 19.0, m: 99.0, w: 217.0, vf: 10, bmr: 2050, age: 34 }, 
        goal: { bf: 15.0, m: 105.0, w: 212.0, vf: 7, bmr: 2100, age: 30 } 
    },
    'S': { 
        past: { bf: 33.0, m: 50.0, w: 136.1, vf: 8, bmr: 1300, age: 40 }, 
        now:  { bf: 36.1, m: 49.2, w: 141.5, vf: 9, bmr: 1250, age: 38 }, 
        goal: { bf: 28.0, m: 55.0, w: 138.0, vf: 5, bmr: 1400, age: 32 } 
    }
};

const mDB = {
    b: [
        "Turmeric Scramble|Eggs,Turmeric,Spinach|fry|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 5m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Wash spinach and pat dry. Rough chop to prevent stringy bites.</li><li>Whisk 3 eggs with 1 tsp turmeric and pinch of black pepper (activates absorption).</li><li>Heat pan to medium-low. Saut√© spinach 60 seconds until bright green.</li><li><strong>Seasoning:</strong> Add salt <em>after</em> wilting to keep spinach firm.</li><li>Pour eggs over greens; push gently with spatula.</li><li>Remove from heat while slightly wet.</li></ol><strong>Chef Tip:</strong> Black pepper increases turmeric absorption by 2000%.|22|2|240",
        "Za'atar Avocado|Eggs,Za'atar,Avocado|raw|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 4m | <strong>Total:</strong> 9m<hr><ol><li>Toast sprouted grain bread until firm.</li><li><strong>Veg Prep:</strong> Mash avocado with lemon juice (stops browning). Slice radishes paper-thin.</li><li>Fry 2 eggs sunny-side up on medium heat (3 mins).</li><li>Spread avocado on toast to seal the holes.</li><li>Top with eggs; dust heavily with Za'atar.</li><li><strong>Seasoning:</strong> Finish with Maldon flake salt for crunch.</li></ol><strong>Chef Tip:</strong> Za'atar contains Sumac, adding acid without liquid.|24|18|380",
        "Bison & Rainbow|Bison,Peppers,Eggs|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 8m | <strong>Total:</strong> 18m<hr><ol><li><strong>Veg Prep:</strong> Dice red and orange peppers into uniform 1cm cubes.</li><li>Sear bison steak in cast iron (2 mins/side); rest meat.</li><li>Drop peppers into hot bison fat. Saut√© 3 mins until blistered.</li><li><strong>Seasoning:</strong> Salt peppers only after they brown.</li><li>Serve steak with sunny-side up eggs and peppers.</li></ol><strong>Chef Tip:</strong> Temper meat (room temp) 20 mins before searing.|45|8|480",
        "Ginger Poach|Broth,Eggs,Bok Choy|poach|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 15m<hr><ol><li><strong>Veg Prep:</strong> Slice ginger into thick coins (bruise them to release oil). Cut Bok Choy in half lengthwise.</li><li>Simmer broth with ginger for 5 mins to infuse.</li><li>Add Bok Choy; poach 2 mins.</li><li>Crack eggs into broth; poach 4 mins.</li><li><strong>Seasoning:</strong> Add soy sauce/tamari at the very end.</li></ol><strong>Chef Tip:</strong> Adding vinegar to water helps egg whites coagulate.|20|4|220",
        "Turkey Sage Pan|Turkey,Sage,Apple|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 8m | <strong>Total:</strong> 18m<hr><ol><li>Mix turkey, chopped sage, and fennel seeds.</li><li><strong>Veg Prep:</strong> Slice green apple into thin wedges (skin on for fiber). Shave fennel bulb.</li><li>Sear patties 4 mins per side on medium-high.</li><li>Serve hot patties with the cold, crisp apple salad.</li><li><strong>Seasoning:</strong> Salt the meat mix before forming patties.</li></ol><strong>Chef Tip:</strong> Fennel seeds reduce bloating and aid digestion.|35|12|360",
        "Salmon Omelet|Salmon,Asparagus,Dill|flat|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 6m | <strong>Total:</strong> 11m<hr><ol><li><strong>Veg Prep:</strong> Snap woody ends off asparagus. Cut into 1-inch pieces.</li><li>Steam or blanch asparagus 2 mins; shock in cold water.</li><li>Whisk eggs with chopped dill.</li><li>Pour eggs into pan; cook as flat sheet.</li><li>Fill with smoked salmon and asparagus; fold.</li></ol><strong>Chef Tip:</strong> Whisk water (not milk) into eggs for fluffiness.|38|2|410",
        "Purple Toast|Sardines,Cabbage,Bread|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Shred purple cabbage on a mandoline (angel hair thin).</li><li>Massage cabbage with lime juice and salt for 2 mins to soften.</li><li>Toast sourdough. Spread mashed avocado.</li><li>Top with cabbage slaw and sardines.</li><li><strong>Seasoning:</strong> The lime juice acts as the salt component.</li></ol><strong>Chef Tip:</strong> Purple foods contain anthocyanins for brain health.|25|22|450",
        "Steak & Greens|Steak,Arugula,Tomato|sear|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 6m | <strong>Total:</strong> 11m<hr><ol><li><strong>Veg Prep:</strong> Wash arugula and dry thoroughly. Halve cherry tomatoes.</li><li>Sear steak tips fast and hot (4 mins total).</li><li>Toss greens with olive oil and sea salt.</li><li>Place hot steak directly on greens to slightly wilt them.</li><li><strong>Seasoning:</strong> Pepper the steak only after cooking (prevents burning).</li></ol><strong>Chef Tip:</strong> Rest steak 5 mins so juices don't soak the salad.|48|4|520",
        "Mushroom Frittata|Whites,Mushrooms,Thyme|bake|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 20m<hr><ol><li><strong>Veg Prep:</strong> Clean mushrooms with damp towel (do not soak). Slice thinly.</li><li>Saut√© mushrooms in dry pan (no oil) 5 mins to release water.</li><li>Add oil and kale; wilt.</li><li>Pour seasoned egg whites over veg. Broil 3-5 mins.</li><li><strong>Seasoning:</strong> Add fresh thyme leaves into the whites.</li></ol><strong>Chef Tip:</strong> Removing water from mushrooms prevents a soggy frittata.|25|6|280",
        "Zucchini Hash|Zucchini,Carrot,Eggs|fry|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 25m<hr><ol><li><strong>Veg Prep:</strong> Grate zucchini and carrot on box grater. Mix with salt.</li><li>Let sit 10 mins, then squeeze forcefully in a towel to dry.</li><li>Fry vegetable nests in ghee until crispy brown edges form.</li><li>Crack eggs into the nests; cover to steam.</li><li><strong>Seasoning:</strong> The salt used for draining is usually sufficient.</li></ol><strong>Chef Tip:</strong> If zucchini is wet, it will boil instead of fry.|20|8|260",
        "Goat Cheese Scramble|Eggs,Goat Cheese,Chives|fry|<strong>Prep:</strong> 2m | <strong>Cook:</strong> 5m | <strong>Total:</strong> 7m<hr><ol><li><strong>Veg Prep:</strong> Finely chop chives (snip with scissors). Slice tomato.</li><li>Soft scramble eggs on low heat.</li><li>Fold in goat cheese off-heat.</li><li>Top with chives.</li><li><strong>Seasoning:</strong> Salt eggs just before they hit the pan.</li></ol><strong>Chef Tip:</strong> A2 Casein in goat cheese is easier on digestion.|22|4|290",
        "Cod Scramble|Cod,Eggs,Parsley|fry|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 8m | <strong>Total:</strong> 13m<hr><ol><li><strong>Veg Prep:</strong> Chop parsley finely. Slice grilled tomatoes.</li><li>Poach cod in water/milk 5 mins; drain and flake.</li><li>Scramble eggs with turmeric.</li><li>Fold in cod flakes gently.</li><li><strong>Seasoning:</strong> Lemon zest adds better flavor than salt here.</li></ol><strong>Chef Tip:</strong> Parsley is a natural diuretic (reduces water retention).|35|4|340",
        "Bison Hash|Bison,Peppers,Onion|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 12m | <strong>Total:</strong> 22m<hr><ol><li><strong>Veg Prep:</strong> Dice onion and peppers to uniform size. Cube sweet potato small.</li><li>Saut√© sweet potato 5 mins first (takes longer).</li><li>Add peppers/onions. Brown bison in center.</li><li><strong>Seasoning:</strong> Use smoked paprika and cumin.</li><li>Crack eggs on top; cover pan.</li></ol><strong>Chef Tip:</strong> Uniform cuts ensure everything cooks at the same speed.|45|18|510",
        "Duck Egg Pan|Duck Eggs,Kale,Beets|fry|<strong>Prep:</strong> 8m | <strong>Cook:</strong> 6m | <strong>Total:</strong> 14m<hr><ol><li><strong>Veg Prep:</strong> Strip kale from stems; chop leaves. Spiralize beet.</li><li>Saut√© beet noodles 3 mins; add kale.</li><li>Make wells in the greens. Crack duck eggs.</li><li><strong>Seasoning:</strong> Salt the yolks specifically.</li><li>Cover and steam.</li></ol><strong>Chef Tip:</strong> Duck yolks are richer/larger; cook on lower heat.|24|8|310",
        "Sausage Rainbow|Turkey Sausage,Peppers|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 20m<hr><ol><li><strong>Veg Prep:</strong> Slice Red, Yellow, and Green peppers into strips.</li><li>Sear sausage slices until brown. Remove.</li><li>Saut√© peppers in fond (brown bits) until soft but holding shape.</li><li><strong>Seasoning:</strong> Add dried oregano to the hot oil to bloom.</li></ol><strong>Chef Tip:</strong> Deglaze pan with water to clean it while cooking.|38|8|440",
        "Tuna Melt|Tuna,Tomato,Bread|flat|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 5m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Slice tomato thick (1/2 inch). Chop dill.</li><li>Mix tuna, yogurt, dill.</li><li>Toast bread. Layer: Tuna, Tomato, Goat Cheese.</li><li>Broil until cheese bubbles.</li><li><strong>Seasoning:</strong> Cracked black pepper on the tomato.</li></ol><strong>Chef Tip:</strong> Drain tuna thoroughly to keep bread crisp.|42|24|550",
        "Hidden Liver Hash|Beef,Liver,Chard|sear|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 25m<hr><ol><li><strong>Veg Prep:</strong> Separate chard stems from leaves. Dice stems; chop leaves.</li><li>Grate frozen liver into beef.</li><li>Saut√© chard stems 3 mins. Add meat; sear hard.</li><li>Fold in leaves at the end to wilt.</li><li><strong>Seasoning:</strong> Heavy onion powder masks mineral taste.</li></ol><strong>Chef Tip:</strong> Freezing liver makes it grate like cheese.|35|8|420",
        "Broccoli Bake|Whites,Broccoli,Garlic|bake|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 15m | <strong>Total:</strong> 25m<hr><ol><li><strong>Veg Prep:</strong> Cut broccoli into small florets. Blanch 2 mins; shock cold.</li><li>Mix with sliced garlic and egg whites.</li><li>Bake 375¬∞F for 15 mins.</li><li><strong>Seasoning:</strong> Top with nutritional yeast (yellow/cheesy flavor).</li></ol><strong>Chef Tip:</strong> Shocking broccoli keeps it bright green.|20|12|240",
        "Salmon Roe Eggs|Roe,Eggs,Nori|flat|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 5m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Cut cucumber into matchsticks (julienne). Toast Nori.</li><li>Make thin egg crepe; slice into ribbons.</li><li>Toss egg noodles with cucumber and seaweed.</li><li>Top with Roe.</li><li><strong>Seasoning:</strong> No salt needed; Roe provides sodium.</li></ol><strong>Chef Tip:</strong> Never cook the Roe; heat destroys the lipids.|28|2|320",
        "Lamb Morning|Lamb,Mint,Cucumber|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 8m | <strong>Total:</strong> 18m<hr><ol><li>Sear lamb chops 3 mins/side. Rest.</li><li><strong>Veg Prep:</strong> Peel cucumber; remove seeds; dice. Chop mint.</li><li>Mix cucumber/mint with pomegranate seeds and vinegar.</li><li><strong>Seasoning:</strong> Acidic salad cuts the rich lamb fat.</li></ol><strong>Chef Tip:</strong> Rest lamb 8 mins before slicing.|40|6|460",
        "Mackerel Bowl|Mackerel,Radish,Cress|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Slice radishes paper-thin (mandoline). Trim watercress.</li><li>Flake smoked mackerel.</li><li>Toss greens with lemon vinaigrette.</li><li><strong>Seasoning:</strong> Fresh horseradish adds zinc and heat.</li></ol><strong>Chef Tip:</strong> Watercress is a cruciferous powerhouse.|30|4|350",
        "Heart Pan|Heart,Peppers,Onion|sear|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 4m | <strong>Total:</strong> 19m<hr><ol><li><strong>Veg Prep:</strong> Slice peppers and onions into strips.</li><li>Slice heart paper-thin. Flash sear veg (2 mins).</li><li>Add meat; sear 60 seconds (high heat).</li><li><strong>Seasoning:</strong> Cumin and Paprika.</li></ol><strong>Chef Tip:</strong> Heart gets tough if cooked past medium-rare.|35|6|320",
        "Collard Scramble|Collards,Eggs,Garlic|fry|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 8m | <strong>Total:</strong> 18m<hr><ol><li><strong>Veg Prep:</strong> De-stem collards. Roll leaves and slice (chiffonade).</li><li>Saut√© with sliced garlic in butter/ghee.</li><li>Add splash of water to steam (4 mins).</li><li>Scramble eggs directly into greens.</li><li><strong>Seasoning:</strong> Hot sauce (vinegar) finishes the dish.</li></ol><strong>Chef Tip:</strong> Collard stems are bitter; discard or pickle them.|18|6|220",
        "Boar & Eggs|Wild Boar,Tomato,Eggs|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 8m | <strong>Total:</strong> 18m<hr><ol><li><strong>Veg Prep:</strong> Leave cherry tomatoes whole.</li><li>Sear boar cutlets. Add tomatoes to pan.</li><li>Let tomatoes blister/burst in the fat.</li><li>Serve eggs over meat.</li><li><strong>Seasoning:</strong> Marinate boar in citrus 10 mins prior.</li></ol><strong>Chef Tip:</strong> Boar is leaner than pork; do not overcook.|42|4|440",
        "Scallop Pan|Scallops,Spinach,Lemon|sear|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 5m | <strong>Total:</strong> 10m<hr><ol><li>Dry scallops. Sear in ghee 2 mins (do not touch).</li><li><strong>Veg Prep:</strong> Wash spinach; leave damp.</li><li>Flip scallops; add spinach to pan. Cover 1 min to wilt.</li><li><strong>Seasoning:</strong> Lemon juice on spinach.</li></ol><strong>Chef Tip:</strong> Sugar in the scallop caramelizes; patience creates the crust.|30|3|290",
        "Tomato Steak|Steak,Tomato,Basil|sear|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 15m<hr><ol><li>Sear steak. Remove.</li><li><strong>Veg Prep:</strong> Halve 2 cups of tomatoes. Chiffonade basil.</li><li>Dump tomatoes into hot beef fat. Cook until saucy.</li><li>Pour over steak. Top with basil.</li><li><strong>Seasoning:</strong> Salt tomatoes heavily to draw juice.</li></ol><strong>Chef Tip:</strong> Heat increases Lycopene absorption.|45|8|490",
        "Shrimp Omelet|Shrimp,Eggs,Chives|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 6m | <strong>Total:</strong> 16m<hr><ol><li><strong>Veg Prep:</strong> Dice avocado. Snip chives.</li><li>Butterfly shrimp (slice down back). Sear quickly.</li><li>Fold shrimp into omelet.</li><li>Top with avocado salsa.</li><li><strong>Seasoning:</strong> Paprika on the shrimp.</li></ol><strong>Chef Tip:</strong> Butterflying shrimp ensures even cooking.|35|4|360",
        "Seaweed Poach|Dulse,Eggs,Miso|poach|<strong>Prep:</strong> 2m | <strong>Cook:</strong> 5m | <strong>Total:</strong> 7m<hr><ol><li><strong>Veg Prep:</strong> Slice scallions. Rinse Dulse seaweed.</li><li>Bring water to simmer. Whisk in miso paste.</li><li>Add seaweed. Poach eggs 4 mins.</li><li><strong>Seasoning:</strong> Miso provides all the salt needed.</li></ol><strong>Chef Tip:</strong> Do not boil miso; high heat kills probiotics.|18|4|180",
        "Venison Pan|Venison,Berries,Eggs|sear|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 6m | <strong>Total:</strong> 11m<hr><ol><li>Sear venison medallions (rare).</li><li><strong>Veg Prep:</strong> Wash blackberries.</li><li>Deglaze pan with blackberries and balsamic.</li><li>Smash berries to create sauce.</li><li><strong>Seasoning:</strong> Black pepper balances the sweet fruit.</li></ol><strong>Chef Tip:</strong> Venison has no fat; basting is crucial.|40|8|390"
    ],
    l: [
        "Thai Beef Salad|Steak,Peppers,Mango|raw|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 15m<hr><ol><li><strong>Veg Prep:</strong> Julienne red peppers. Slice cucumber on bias. Cube mango.</li><li>Slice cold steak thin against grain.</li><li>Toss with mint and cilantro.</li><li><strong>Seasoning:</strong> Dressing: Fish sauce, lime, chili, monk fruit.</li></ol><strong>Chef Tip:</strong> Mango enzymes help tenderize the meat.|45|16|480",
        "Chicken Chimichurri|Chicken,Parsley,Garlic|raw|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 15m<hr><ol><li><strong>Veg Prep:</strong> Finely mince parsley, oregano, garlic. Slice cucumber.</li><li>Blend herbs with olive oil and red wine vinegar.</li><li>Toss sliced chicken in sauce. Let sit 20 mins.</li><li><strong>Seasoning:</strong> Salt the sauce heavily; it seasons the meat.</li></ol><strong>Chef Tip:</strong> Fresh herbs promote liver detoxification.|40|4|420",
        "Sardine Bowl|Sardines,Radish,Fennel|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Shave fennel and radish on mandoline.</li><li>Soak veg in ice water 10 mins (curls/crisps them).</li><li>Drain dry. Toss with lemon/oil.</li><li>Top with sardines.</li><li><strong>Seasoning:</strong> Fennel fronds (green tops) as garnish.</li></ol><strong>Chef Tip:</strong> Omega-3s cross the blood-brain barrier.|28|6|320",
        "Cold Flank|Steak,Asparagus,Tomato|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 2m | <strong>Total:</strong> 12m<hr><ol><li><strong>Veg Prep:</strong> Trim asparagus. Blanch 2 mins in salted water. Shock cold.</li><li>Slice steak thin. Halve tomatoes.</li><li>Arrange on platter.</li><li><strong>Seasoning:</strong> Dijon mustard vinaigrette.</li></ol><strong>Chef Tip:</strong> Asparagine is a natural diuretic.|42|6|450",
        "Bison Kofta|Bison,Cumin,Cucumber|raw|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 15m | <strong>Total:</strong> 30m<hr><ol><li>Mix bison, cumin, coriander. Bake meatballs. Cool.</li><li><strong>Veg Prep:</strong> Grate cucumber; squeeze out water. Mix with yogurt (Tzatziki).</li><li>Serve cold meatballs with dip.</li><li><strong>Seasoning:</strong> Fresh mint in the meat mix.</li></ol><strong>Chef Tip:</strong> Squeezing cucumber prevents watery sauce.|38|6|410",
        "Sumac Chicken|Chicken,Sumac,Onion|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Finely dice red onion. Chop parsley.</li><li>Toss shredded chicken with Sumac spice (tart/red).</li><li>Mix with onions and parsley.</li><li>Serve in Romaine cups.</li><li><strong>Seasoning:</strong> Sumac acts as the acid component.</li></ol><strong>Chef Tip:</strong> Sumac has the highest antioxidant value of any spice.|35|4|390",
        "Salmon Boats|Salmon,Cucumber,Dill|raw|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 15m<hr><ol><li><strong>Veg Prep:</strong> Peel cucumber. Cut lengthwise. Scoop out seeds (hollow boat).</li><li>Mix canned salmon, yogurt, dill, lemon.</li><li>Pack into boats.</li><li><strong>Seasoning:</strong> Dust with smoked paprika.</li></ol><strong>Chef Tip:</strong> Removing seeds prevents the filling from getting soggy.|35|6|410",
        "Bison Jerky Plate|Jerky,Walnuts,Berries|raw|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 5m<hr><ol><li><strong>Veg Prep:</strong> Wash blueberries. Rinse olives.</li><li>Arrange Jerky (Bison), Walnuts, Berries, Olives.</li><li>Eat slowly; chew nuts to a paste.</li><li><strong>Seasoning:</strong> None needed; jerky provides sodium.</li></ol><strong>Chef Tip:</strong> Pair dry protein with hydrating fruit.|30|14|380",
        "Arugula Jar|Steak,Beets,Walnuts|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Dice roasted beets. Toast walnuts.</li><li>Layer Order: Balsamic Dressing > Beets > Steak > Walnuts > Arugula.</li><li><strong>Seasoning:</strong> Dressing stays at bottom to keep greens crisp.</li><li>Shake before eating.</li></ol><strong>Chef Tip:</strong> Nitrates in beets improve blood flow.|40|14|460",
        "Lemon Broccoli|Chicken,Broccoli,Turmeric|raw|<strong>Prep:</strong> 20m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 20m<hr><ol><li><strong>Veg Prep:</strong> Cut broccoli into tiny florets.</li><li>Massage with olive oil, salt, lemon for 3 mins.</li><li>Let sit 15 mins (acid 'cooks' it).</li><li>Add turmeric and chicken.</li><li><strong>Seasoning:</strong> Lemon juice breaks down tough cellulose.</li></ol><strong>Chef Tip:</strong> Raw broccoli retains more Sulforaphane.|38|10|390",
        "Stuffed Peppers|Tuna,Peppers,Parsley|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Halve mini sweet peppers; remove pith.</li><li>Mix tuna, olive oil, parsley, lemon.</li><li>Stuff tightly into peppers.</li><li><strong>Seasoning:</strong> Black pepper and chili flake.</li></ol><strong>Chef Tip:</strong> Use tri-color peppers for carotenoids.|35|8|340",
        "Beef Broccoli|Beef,Broccoli,Sesame|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 3m | <strong>Total:</strong> 13m<hr><ol><li><strong>Veg Prep:</strong> Blanch broccoli 3 mins (al dente). Cool.</li><li>Slice cold beef.</li><li>Toss with toasted sesame oil and seeds.</li><li><strong>Seasoning:</strong> Tamari splash.</li></ol><strong>Chef Tip:</strong> Sesame oil is a finishing oil; heat destroys its flavor.|42|12|490",
        "Sardine Lemon|Sardines,Celery,Lemon|raw|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 5m<hr><ol><li><strong>Veg Prep:</strong> Cut celery into batons. Zest lemon.</li><li>Mash sardines with lemon zest and oil.</li><li>Scoop with celery.</li><li><strong>Seasoning:</strong> Celery provides natural nitrates and sodium.</li></ol><strong>Chef Tip:</strong> Eat the sardine bones for calcium.|28|4|310",
        "Avocado Roll|Turkey,Avocado,Carrot|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Julienne carrots (matchsticks). Slice avocado.</li><li>Lay turkey slice flat. Place veg in center.</li><li>Roll tight. Secure with toothpick.</li><li><strong>Seasoning:</strong> Everything Bagel Seasoning inside.</li></ol><strong>Chef Tip:</strong> Brush avocado with lime to stop browning.|32|8|380",
        "Poached Salmon|Salmon,Cucumber,Tea|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 20m<hr><ol><li><strong>Veg Prep:</strong> Spiralize cucumber into noodles.</li><li>Poach salmon in brewed Green Tea (gentle simmer). Chill.</li><li>Serve fish over cucumber noodles.</li><li><strong>Seasoning:</strong> Tea tannins add earthiness; no salt in poaching liquid.</li></ol><strong>Chef Tip:</strong> EGCG in green tea protects cells.|35|2|390",
        "Lamb Salad|Lamb,Mint,Pomegranate|raw|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 15m<hr><ol><li><strong>Veg Prep:</strong> Pick mint leaves. Seed pomegranate. Wash greens.</li><li>Slice cold lamb thin; trim waxy fat.</li><li>Toss greens with cider vinegar. Top with lamb/fruit.</li><li><strong>Seasoning:</strong> Vinegar acid cuts the gamey taste.</li></ol><strong>Chef Tip:</strong> Pomegranate adds crunch and polyphenols.|40|8|470",
        "Duck Salad|Duck,Radicchio,Orange|raw|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 15m<hr><ol><li><strong>Veg Prep:</strong> Chop Radicchio (bitter). Segment orange (remove pith).</li><li>Shred duck leg meat.</li><li>Toss with walnut oil.</li><li><strong>Seasoning:</strong> Bitter greens stimulate bile flow for digestion.</li></ol><strong>Chef Tip:</strong> Anthocyanins in radicchio protect the brain.|35|12|440",
        "Cod Jars|Cod,Celery,Apple|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Fine dice celery and Granny Smith apple.</li><li>Flake cold cod. Mix with veg and oil.</li><li>Season with white pepper.</li><li><strong>Seasoning:</strong> Apple adds tartness and pectin fiber.</li></ol><strong>Chef Tip:</strong> White pepper is milder and earthier than black.|32|8|360",
        "Shrimp Cocktail|Shrimp,Tomato,Horseradish|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 3m | <strong>Total:</strong> 13m<hr><ol><li><strong>Veg Prep:</strong> Grate fresh horseradish. Grate tomato pulp.</li><li>Boil shrimp 3 mins w/ bay leaf. Ice bath.</li><li>Mix tomato/horseradish for dip.</li><li><strong>Seasoning:</strong> Lemon juice in the dip.</li></ol><strong>Chef Tip:</strong> Fresh horseradish clears sinuses instantly.|28|4|290",
        "Heart Carpaccio|Heart,Arugula,Parmesan|raw|<strong>Prep:</strong> 45m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 45m<hr><ol><li><strong>Veg Prep:</strong> Wash arugula. Shave parmesan.</li><li>Freeze heart 45 mins. Slice paper thin.</li><li>Lay flat. Drizzle oil/lemon.</li><li><strong>Seasoning:</strong> Maldon salt. Acid 'cooks' the meat.</li></ol><strong>Chef Tip:</strong> CoQ10 is highest in heart tissue.|30|2|310",
        "Venison Jerky|Venison,Almonds,Pear|raw|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 5m<hr><ol><li><strong>Veg Prep:</strong> Slice pear.</li><li>Eat Jerky, Almond, Pear in rotation.</li><li><strong>Seasoning:</strong> Pear provides hydration for the dry meat.</li></ol><strong>Chef Tip:</strong> Highest protein-to-calorie ratio of any meat.|35|14|370",
        "Roe Bowl|Roe,Nori,Avocado|raw|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 5m<hr><ol><li><strong>Veg Prep:</strong> Cube avocado. Cut Nori into squares.</li><li>Make small hand rolls: Nori > Avocado > Roe.</li><li>Eat immediately.</li><li><strong>Seasoning:</strong> Roe bursts with salty brine.</li></ol><strong>Chef Tip:</strong> Nori absorbs moisture fast; keep dry.|25|4|280",
        "Turkey Meatballs|Turkey,Spinach,Marinara|raw|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 5m<hr><ol><li><strong>Veg Prep:</strong> Thaw frozen spinach; squeeze dry for meatballs.</li><li>Eat cold cooked meatballs with Marinara dip.</li><li><strong>Seasoning:</strong> Garlic powder and onion powder in meat.</li></ol><strong>Chef Tip:</strong> Tryptophan supports mood stability.|38|6|410",
        "Kimchi Steak|Steak,Kimchi,Sesame|raw|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 5m<hr><ol><li><strong>Veg Prep:</strong> Chop Kimchi. Slice cucumber.</li><li>Toss cold steak strips with Kimchi.</li><li><strong>Seasoning:</strong> Kimchi juice is the dressing.</li></ol><strong>Chef Tip:</strong> Fermented foods support the gut-brain axis.|45|8|480",
        "Trout Salad|Trout,Endive,Lemon|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Separate Endive leaves (use as scoops).</li><li>Mix smoked trout, dill, lemon, oil.</li><li>Fill leaves.</li><li><strong>Seasoning:</strong> Fresh dill.</li></ol><strong>Chef Tip:</strong> Endive bitterness supports liver detox.|32|4|350",
        "Boar Strip Bowl|Boar,Peppers,Cilantro|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Roast red peppers (or jarred). Slice. Pick cilantro.</li><li>Toss cold boar with peppers and lime.</li><li><strong>Seasoning:</strong> Cilantro stems have the most flavor; chop them fine.</li></ol><strong>Chef Tip:</strong> Thiamine (B1) aids carb metabolism.|40|10|460",
        "Mackerel Fennel|Mackerel,Fennel,Orange|raw|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 15m<hr><ol><li><strong>Veg Prep:</strong> Shave fennel bulb. Zest orange.</li><li>Toss fennel with orange juice/zest.</li><li>Top with mackerel.</li><li><strong>Seasoning:</strong> Anise flavor of fennel cuts the oily fish.</li></ol><strong>Chef Tip:</strong> Fennel reduces post-meal gas.|30|6|340",
        "Chicken Thigh Jar|Chicken,Kale,Cranberry|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Strip kale. Massage with oil/salt.</li><li>Layer: Kale, Chicken, Cranberries, Pumpkin Seeds.</li><li><strong>Seasoning:</strong> Unsweetened cranberries add tartness.</li></ol><strong>Chef Tip:</strong> Dark meat collagen supports joints.|38|12|420",
        "Bison Snap Peas|Bison,Snap Peas,Mint|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Remove strings from snap peas. Chop mint.</li><li>Toss bison strips, peas, mint, oil.</li><li><strong>Seasoning:</strong> Flake salt.</li></ol><strong>Chef Tip:</strong> Iron and B12 prevent fatigue.|42|12|470",
        "Octopus Bowl|Octopus,Olives,Tomato|raw|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Halve tomatoes. Smash olives.</li><li>Toss octopus, olives, tomatoes, oregano.</li><li><strong>Seasoning:</strong> Heavy lemon juice.</li></ol><strong>Chef Tip:</strong> Taurine supports heart health.|35|6|330",
        "Spiced Kefta Bowl|Beef,Parsley,Onion|raw|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 15m<hr><ol><li><strong>Veg Prep:</strong> Chop 2 cups parsley (Tabouleh style). Dice onion.</li><li>Serve cold Kefta (meatballs) over parsley salad.</li><li>Drizzle Tahini.</li><li><strong>Seasoning:</strong> Sumac and lemon.</li></ol><strong>Chef Tip:</strong> Parsley is a vegetable here, not a garnish.|35|8|400"
    ],
    d: [
        "Miso Glazed Cod|Cod,Miso,Bok Choy|bake|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 8m | <strong>Total:</strong> 23m<hr><ol><li><strong>Veg Prep:</strong> Wash Bok Choy; cut in half. Grate ginger.</li><li>Mix Miso/Ginger. Coat fish. Broil 8 mins.</li><li>Steam Bok Choy separately (4 mins).</li><li><strong>Seasoning:</strong> Miso is salty; do not add salt.</li></ol><strong>Chef Tip:</strong> Miso burns fast; watch broiler closely.|35|8|340",
        "Harissa Shrimp|Shrimp,Harissa,Cauliflower|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 5m | <strong>Total:</strong> 15m<hr><ol><li><strong>Veg Prep:</strong> Rice cauliflower (food processor). Mince garlic.</li><li>Toss shrimp in Harissa paste. Sear 2 mins.</li><li>Saut√© cauli-rice in same pan.</li><li><strong>Seasoning:</strong> Squeeze lime to deglaze pan.</li></ol><strong>Chef Tip:</strong> Harissa aids digestion/metabolism.|30|6|290",
        "Ginger Beef Stir|Lean Beef,Ginger,Peas|sear|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 5m | <strong>Total:</strong> 20m<hr><ol><li><strong>Veg Prep:</strong> Julienne ginger (matchsticks). Slice peppers.</li><li>Sear beef 60s. Remove.</li><li>Stir fry veg 2 mins. Return beef.</li><li><strong>Seasoning:</strong> Tamari and Star Anise.</li></ol><strong>Chef Tip:</strong> Ginger is anti-nausea and pro-motility.|45|10|460",
        "Saffron Halibut|Halibut,Saffron,Tomato|poach|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 15m<hr><ol><li><strong>Veg Prep:</strong> Halve cherry tomatoes. Slice garlic.</li><li>Steep saffron in warm broth. Saut√© garlic/tomato.</li><li>Add broth. Poach fish 8 mins.</li><li><strong>Seasoning:</strong> Saffron adds floral metallic notes.</li></ol><strong>Chef Tip:</strong> Saffron boosts mood/neurotransmitters.|38|6|370",
        "Wild Salmon|Salmon,Asparagus,Lemon|fish|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 12m | <strong>Total:</strong> 17m<hr><ol><li><strong>Veg Prep:</strong> Trim asparagus. Slice lemon rounds.</li><li>Sear salmon skin-down (crispy).</li><li>Add asparagus to pan for final 4 mins.</li><li><strong>Seasoning:</strong> Salt skin heavily before cooking.</li></ol><strong>Chef Tip:</strong> Omega-3s reduce inflammation.|42|6|480",
        "Clams Garlic|Clams,Garlic,Parsley|clams|<strong>Prep:</strong> 20m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 30m<hr><ol><li><strong>Veg Prep:</strong> Soak clams to remove sand. Chop parsley. Slice garlic.</li><li>Saut√© garlic. Add clams/wine/broth. Cover 7 mins.</li><li>Top with parsley.</li><li><strong>Seasoning:</strong> Chili flake for heat.</li></ol><strong>Chef Tip:</strong> B12 supports nerve health.|30|8|320",
        "Bison Chili|Bison,Peppers,Cacao|stew|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 45m | <strong>Total:</strong> 60m<hr><ol><li><strong>Veg Prep:</strong> Dice onions, peppers, celery.</li><li>Brown meat. Add veg and tomatoes. Simmer 45 mins.</li><li>Stir in dark chocolate square at end.</li><li><strong>Seasoning:</strong> Cumin, Chili Powder, Cinnamon.</li></ol><strong>Chef Tip:</strong> Chocolate adds depth and antioxidants.|48|18|560",
        "Steak Ribbons|Steak,Zucchini,Garlic|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 20m<hr><ol><li><strong>Veg Prep:</strong> Spiralize zucchini. Slice garlic chips.</li><li>Sear steak. Rest. Fry garlic chips.</li><li>Flash saut√© zoodles 45 seconds in beef fat.</li><li><strong>Seasoning:</strong> Salt zoodles after cooking to prevent water.</li></ol><strong>Chef Tip:</strong> Creatine recycles ATP energy.|50|6|580",
        "Garlic Scallops|Scallops,Spinach,Turmeric|sear|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 5m | <strong>Total:</strong> 10m<hr><ol><li><strong>Veg Prep:</strong> Wash spinach. Mince garlic.</li><li>Sear scallops. Remove.</li><li>Saut√© spinach with garlic and turmeric.</li><li><strong>Seasoning:</strong> Turmeric needs black pepper.</li></ol><strong>Chef Tip:</strong> Magnesium aids relaxation.|35|4|340",
        "Herb Cod Roast|Cod,Rosemary,Tomatoes|bake|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 15m | <strong>Total:</strong> 20m<hr><ol><li><strong>Veg Prep:</strong> Keep tomatoes whole. Sprigs of rosemary.</li><li>Bed of lemon slices. Fish. Tomatoes surrounding.</li><li>Bake 400¬∞F 15 mins.</li><li><strong>Seasoning:</strong> Rosemary oil infuses the fish.</li></ol><strong>Chef Tip:</strong> Bursting tomatoes create natural sauce.|38|8|390",
        "Lamb Chops|Lamb,Mint,Peas|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 20m<hr><ol><li><strong>Veg Prep:</strong> Shell fresh peas (or frozen). Chop mint.</li><li>Sear lamb. Saut√© peas with shallot.</li><li>Mash peas with mint/vinegar.</li><li><strong>Seasoning:</strong> Mint aids fat digestion.</li></ol><strong>Chef Tip:</strong> Carnosine prevents tissue aging.|42|12|540",
        "Shrimp Asparagus|Shrimp,Asparagus,Ginger|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 6m | <strong>Total:</strong> 16m<hr><ol><li><strong>Veg Prep:</strong> Cut asparagus on bias (1 inch). Grate ginger.</li><li>Stir fry asparagus 3 mins. Add shrimp/ginger.</li><li><strong>Seasoning:</strong> Lemon zest finish.</li></ol><strong>Chef Tip:</strong> Astaxanthin is powerful for eyes.|32|6|310",
        "Turkey Burgers|Turkey,Mushrooms,Slaw|sear|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 25m<hr><ol><li><strong>Veg Prep:</strong> Finely mince mushrooms. Shred cabbage for slaw.</li><li>Mix turkey/mushrooms. Sear patties.</li><li>Dress slaw with vinegar (no mayo).</li><li><strong>Seasoning:</strong> Onion powder in burgers.</li></ol><strong>Chef Tip:</strong> Vinegar slaw cuts the burger fat.|40|6|430",
        "Venison Steak|Venison,Carrots,Thyme|sear|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 25m | <strong>Total:</strong> 30m<hr><ol><li><strong>Veg Prep:</strong> Peel carrots; leave whole.</li><li>Roast carrots 25 mins. Sear venison 3 mins.</li><li><strong>Seasoning:</strong> Fresh thyme on carrots.</li></ol><strong>Chef Tip:</strong> Iron prevents fatigue.|45|12|470",
        "Duck Kale|Duck,Kale,Orange|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 15m | <strong>Total:</strong> 25m<hr><ol><li><strong>Veg Prep:</strong> Strip kale. Segment orange.</li><li>Crisp duck skin (start cold pan). Remove.</li><li>Saut√© kale in duck fat. Add orange.</li><li><strong>Seasoning:</strong> Orange acid balances fat.</li></ol><strong>Chef Tip:</strong> Glycine supports sleep.|38|10|510",
        "Red Mussels|Mussels,Tomato,Fennel|clams|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 25m<hr><ol><li><strong>Veg Prep:</strong> Dice fennel bulb. Crush tomatoes.</li><li>Saut√© fennel. Add tomato/broth. Boil.</li><li>Add mussels. Steam 5 mins.</li><li><strong>Seasoning:</strong> Fennel seeds.</li></ol><strong>Chef Tip:</strong> Manganese is an antioxidant.|28|12|330",
        "Swordfish|Swordfish,Peppers,Olives|sear|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 25m<hr><ol><li><strong>Veg Prep:</strong> Dice red peppers, olives, capers.</li><li>Grill fish. Top with raw relish.</li><li><strong>Seasoning:</strong> Parsley and lemon.</li></ol><strong>Chef Tip:</strong> Selenium counters mercury.|40|6|460",
        "Heart Stew|Heart,Carrots,Celery|stew|<strong>Prep:</strong> 20m | <strong>Cook:</strong> 180m | <strong>Total:</strong> 200m<hr><ol><li><strong>Veg Prep:</strong> Large chunks of carrot, celery, onion.</li><li>Sear heart cubes. Add veg/broth. Simmer 3 hrs.</li><li><strong>Seasoning:</strong> Bay leaf and Thyme.</li></ol><strong>Chef Tip:</strong> CoQ10 improves cardiac output.|35|14|390",
        "Boar Balls|Boar,Tomato,Basil|stew|<strong>Prep:</strong> 20m | <strong>Cook:</strong> 25m | <strong>Total:</strong> 45m<hr><ol><li><strong>Veg Prep:</strong> Chiffonade basil.</li><li>Simmer boar meatballs in tomato sauce (gentle).</li><li>Add basil off heat.</li><li><strong>Seasoning:</strong> Fennel seed in meatballs.</li></ol><strong>Chef Tip:</strong> Thiamine aids stress response.|42|8|490",
        "Halibut|Halibut,Green Beans,Almonds|bake|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 12m | <strong>Total:</strong> 22m<hr><ol><li><strong>Veg Prep:</strong> Trim green beans. Toast almonds.</li><li>Bake fish. Steam beans; toss with butter/almonds.</li><li><strong>Seasoning:</strong> Lemon juice on beans.</li></ol><strong>Chef Tip:</strong> Magnesium supports sleep.|38|6|410",
        "Lamb Kabobs|Lamb,Peppers,Onion|sear|<strong>Prep:</strong> 20m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 30m<hr><ol><li><strong>Veg Prep:</strong> Large chunks of red onion and pepper.</li><li>Marinate meat in yogurt/cumin. Skewer. Grill.</li><li><strong>Seasoning:</strong> Char flavor is key.</li></ol><strong>Chef Tip:</strong> Yogurt tenderizes meat.|40|12|530",
        "Ribeye Ghee|Ribeye,Broccoli,Garlic|sear|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 15m | <strong>Total:</strong> 20m<hr><ol><li><strong>Veg Prep:</strong> Cut broccoli florets. Toss with oil/garlic.</li><li>Roast broccoli 400¬∞F. Sear steak in Ghee.</li><li><strong>Seasoning:</strong> Salt steak 1 hr prior (dry brine).</li></ol><strong>Chef Tip:</strong> Saturated fat for hormones.|52|6|650",
        "Cod Papillote|Cod,Zucchini,Lemon|bake|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 15m | <strong>Total:</strong> 25m<hr><ol><li><strong>Veg Prep:</strong> Slice zucchini coins. Thin lemon rounds.</li><li>Seal in parchment. Bake 400¬∞F 15 mins.</li><li><strong>Seasoning:</strong> Steam infuses flavors.</li></ol><strong>Chef Tip:</strong> Gentle cooking preserves Omega-3s.|35|6|360",
        "Scampi Zoodles|Shrimp,Zucchini,Parsley|sear|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 5m | <strong>Total:</strong> 20m<hr><ol><li><strong>Veg Prep:</strong> Spiralize zucchini. Dry well. Chop parsley.</li><li>Saut√© shrimp/garlic. Remove. Flash fry zoodles.</li><li><strong>Seasoning:</strong> Lemon and chili flake.</li></ol><strong>Chef Tip:</strong> Choline supports neurotransmitters.|30|8|320",
        "Ancestral Smash|Beef,Liver,Pickles|sear|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 5m | <strong>Total:</strong> 20m<hr><ol><li><strong>Veg Prep:</strong> Slice fermented pickles.</li><li>Smash burgers on hot iron. Top with pickle/mustard.</li><li><strong>Seasoning:</strong> Acid cuts the fat.</li></ol><strong>Chef Tip:</strong> Retinol supports skin health.|40|2|450",
        "Snapper Lime|Snapper,Cilantro,Slaw|bake|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 15m | <strong>Total:</strong> 30m<hr><ol><li><strong>Veg Prep:</strong> Shred cabbage. Chop cilantro.</li><li>Bake whole fish. Serve with lime slaw.</li><li><strong>Seasoning:</strong> Rub fish with chili powder.</li></ol><strong>Chef Tip:</strong> Potassium lowers cortisol.|38|4|390",
        "Beef Tongue|Tongue,Cabbage,Mustard|stew|<strong>Prep:</strong> 30m | <strong>Cook:</strong> 180m | <strong>Total:</strong> 210m<hr><ol><li><strong>Veg Prep:</strong> Slice cabbage wedges.</li><li>Braise tongue. Peel. Slice. Saut√© cabbage.</li><li><strong>Seasoning:</strong> Grainy mustard dip.</li></ol><strong>Chef Tip:</strong> Tongue is high fat energy.|32|6|380",
        "Rabbit Leeks|Rabbit,Leeks,Mushrooms|stew|<strong>Prep:</strong> 20m | <strong>Cook:</strong> 45m | <strong>Total:</strong> 65m<hr><ol><li><strong>Veg Prep:</strong> Wash leeks thoroughly (sand). Slice mushrooms.</li><li>Braise rabbit with leeks/mushrooms/broth.</li><li><strong>Seasoning:</strong> Rosemary.</li></ol><strong>Chef Tip:</strong> Leanest meat option.|35|8|340",
        "Octopus Potato|Octopus,Potato,Paprika|sear|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 20m | <strong>Total:</strong> 30m<hr><ol><li><strong>Veg Prep:</strong> Boil baby potatoes then smash flat.</li><li>Crisp potatoes in oil. Grill octopus.</li><li><strong>Seasoning:</strong> Smoked Paprika (Pimenton).</li></ol><strong>Chef Tip:</strong> B12 for red blood cells.|30|18|420",
        "Sea Bass|Bass,Spinach,Lemon|sear|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 10m | <strong>Total:</strong> 15m<hr><ol><li><strong>Veg Prep:</strong> Wash spinach. Slice garlic.</li><li>Crisp fish skin. Saut√© spinach.</li><li><strong>Seasoning:</strong> Lemon juice finishing.</li></ol><strong>Chef Tip:</strong> Vitamin D3 for immunity.|36|4|380",
        "Pesto Salmon|Salmon,Pesto,Beans|bake|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 12m | <strong>Total:</strong> 22m<hr><ol><li><strong>Veg Prep:</strong> Trim green beans.</li><li>Spread pesto on fish. Bake. Steam beans.</li><li><strong>Seasoning:</strong> Basil pesto supplies flavor.</li></ol><strong>Chef Tip:</strong> Pine nuts suppress appetite.|40|8|490",
        "Trout Bake|Trout,Almonds,Parsley|bake|<strong>Prep:</strong> 10m | <strong>Cook:</strong> 15m | <strong>Total:</strong> 25m<hr><ol><li><strong>Veg Prep:</strong> Chop parsley. Toast almonds.</li><li>Bake trout. Top with crunch.</li><li><strong>Seasoning:</strong> Lemon and butter.</li></ol><strong>Chef Tip:</strong> Niacin lowers cholesterol.|35|2|370",
        "Beef Heart Roast|Heart,Radish,Chimichurri|sear|<strong>Prep:</strong> 15m | <strong>Cook:</strong> 8m | <strong>Total:</strong> 23m<hr><ol><li><strong>Veg Prep:</strong> Halve radishes. Blend Chimichurri.</li><li>Roast radishes 400¬∞F. Grill heart steaks.</li><li><strong>Seasoning:</strong> Parsley/Garlic sauce.</li></ol><strong>Chef Tip:</strong> CoQ10 for energy.|38|4|350"
    ],
    s: [
        "Greek Yogurt Bowl|Berries,Honey,Walnuts|raw|<strong>Prep:</strong> 3m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 3m<hr><ol><li><strong>Veg Prep:</strong> Wash berries.</li><li>Mix yogurt, honey, nuts.</li></ol><strong>Chef Tip:</strong> Probiotics for gut health.|22|18|240",
        "Hard Boiled Eggs|Sea Salt,Pepper|boil|<strong>Prep:</strong> 1m | <strong>Cook:</strong> 9m | <strong>Total:</strong> 10m<hr><ol><li>Boil 9 mins. Ice bath 5 mins.</li><li><strong>Seasoning:</strong> Maldon salt.</li></ol><strong>Chef Tip:</strong> Choline for brain.|12|1|140",
        "Apple & Almonds|Sliced Apple,Raw Almonds|raw|<strong>Prep:</strong> 2m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 2m<hr><ol><li><strong>Veg Prep:</strong> Wash apple. Slice.</li><li>Eat with raw almonds.</li></ol><strong>Chef Tip:</strong> Fiber/Vitamin E synergy.|6|24|200",
        "Beef Jerky|Grass-fed Beef|raw|<strong>Prep:</strong> 0m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 0m<hr><ol><li>Chew thoroughly.</li></ol><strong>Chef Tip:</strong> Zinc for immunity.|25|4|180",
        "Cottage Cheese|Pineapple,Chia Seeds|raw|<strong>Prep:</strong> 2m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 2m<hr><ol><li>Mix and let sit 5 mins for seeds to plump.</li></ol><strong>Chef Tip:</strong> Casein protein (slow digest).|24|14|210",
        "Protein Shake|Whey Isolate,Water|shake|<strong>Prep:</strong> 2m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 2m<hr><ol><li>Shake with ice.</li></ol><strong>Chef Tip:</strong> Rapid absorption.|25|2|120",
        "Hummus & Veg|Hummus,Carrots,Celery|raw|<strong>Prep:</strong> 5m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 5m<hr><ol><li><strong>Veg Prep:</strong> Cut batons.</li><li>Dip in hummus.</li></ol><strong>Chef Tip:</strong> Soluble fiber.|8|20|180",
        "Bone Broth|Beef Bone Broth|simmer|<strong>Prep:</strong> 1m | <strong>Cook:</strong> 5m | <strong>Total:</strong> 6m<hr><ol><li>Simmer gently. Do not boil.</li></ol><strong>Chef Tip:</strong> Collagen for gut lining.|10|1|50",
        "Sardines|Olive Oil,Crackers|raw|<strong>Prep:</strong> 1m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 1m<hr><ol><li>Mash on cracker.</li></ol><strong>Chef Tip:</strong> Calcium/Vitamin D.|22|0|190",
        "Dark Chocolate|90% Cacao,Almonds|raw|<strong>Prep:</strong> 0m | <strong>Cook:</strong> 0m | <strong>Total:</strong> 0m<hr><ol><li>Melt on tongue.</li></ol><strong>Chef Tip:</strong> Flavanols for blood flow.|4|12|160"
    ]
};
function switchU(uID){ user=uID; document.querySelectorAll('.u-badge').forEach(b=>b.classList.remove('active')); document.getElementById('b'+uID.toLowerCase()).classList.add('active'); render(); }
function getMon(o){ let d=new Date(); d.setHours(0,0,0,0); let day=d.getDay(); let diff=d.getDate()-day+(day===0?-6:1); d.setDate(diff+(o*7)); return d; }
function changeW(d){ offset+=d; render(); }
function resetD(){ offset=0; selDate=new Date(); render(); }

function openBio() {
    const u = uH[user];
    const modalBody = document.getElementById('mBody');
    
    const fullName = (user === 'J') ? "JERMAINE" : "SOPHIA";
    document.getElementById('mTitle').innerText = fullName + " CLINICAL SCAN";
    document.getElementById('mSub').innerText = `Weight: ${u.now.w} lbs | Updated Dec 24`;
    
    const metrics = [
        { label: "Body Fat %", key: "bf", unit: "%", lowerIsBetter: true },
        { label: "Muscle Mass", key: "m", unit: " lbs", lowerIsBetter: false },
        { label: "Visceral Fat", key: "vf", unit: " lvl", lowerIsBetter: true },
        { label: "Metabolic Age", key: "age", unit: " yrs", lowerIsBetter: true }
    ];

    let html = '';
    metrics.forEach(m => {
        const p = u.past[m.key], n = u.now[m.key], g = u.goal[m.key];
        const max = Math.max(p, n, g);
        
        let arrow = "‚Üí"; let color = "var(--gold)";
        if (n < p) { arrow = "‚Üì"; color = m.lowerIsBetter ? "var(--green)" : "#FF5252"; }
        else if (n > p) { arrow = "‚Üë"; color = m.lowerIsBetter ? "#FF5252" : "var(--green)"; }

        html += `
            <div class="bio-section">
                <div class="bio-title"><span>${m.label}</span><span style="color:var(--green)">Goal: ${g}${m.unit}</span></div>
                <div class="bar-group">
                    <div class="bar-row">
                        <div class="bar-lbl">Past</div>
                        <div class="bar-track"><div class="bar-fill past" style="width:${(p/max)*100}%"></div></div>
                        <div style="font-size:0.6rem; color:#666; width:35px">${p}${m.unit}</div>
                    </div>
                    <div class="bar-row">
                        <div class="bar-lbl">Now</div>
                        <div class="bar-track"><div class="bar-fill now" style="width:${(n/max)*100}%"></div></div>
                        <div style="font-size:0.6rem; color:${color}; width:35px; font-weight:800">${n}${m.unit} ${arrow}</div>
                    </div>
                </div>
            </div>`;
    });

    modalBody.innerHTML = html;
    document.getElementById('mTip').innerText = `BMR: ${u.now.bmr} kcal/day | Efficiency: High`;
    document.getElementById('masterModal').style.display = 'block';
}

function render(){
    const mon=getMon(offset); const days=["MON","TUE","WED","THU","FRI","SAT","SUN"];
    const tabs=document.getElementById('dayTabs'); tabs.innerHTML='';
    const end=new Date(mon); end.setDate(mon.getDate()+6);
    document.getElementById('dateDisplay').innerText=`${mon.toLocaleDateString('en-US',{month:'short',day:'numeric'})} - ${end.toLocaleDateString('en-US',{month:'short',day:'numeric'})}`;
    for(let i=0; i<7; i++){
        let d=new Date(mon); d.setDate(mon.getDate()+i);
        const b=document.createElement('div'); b.className='tab'+(d.toDateString()===selDate.toDateString()?' active':'');
        b.innerHTML=`${days[i]}<br>${d.getDate()}`;
        b.onclick=()=>{ dailySnack=null; selDate=d; render() }; 
        tabs.appendChild(b);
        if(b.classList.contains('active')) showDay(d, i);
    }
}

function showDay(dObj, idx){
    const id=Math.floor(dObj.getTime()/864e5);
    const b = (mDB.b[Math.abs(id) % mDB.b.length]).split('|');
    const l = (mDB.l[Math.abs(id) % mDB.l.length]).split('|');
    const dn = (mDB.d[Math.abs(id) % mDB.d.length]).split('|');

    const sch=["HEAVY LIFT","BOXING","REFORM","BOXING","REFORM/YOGA","CS4","RELAX"];
    const jcs=["PLASMA FLUSH","TITAN RED","ZENITH GREEN","TITAN RED","ZENITH GREEN","TITAN RED","APOLLO GOLD"];
    const j=jDB[jcs[idx]];
    
    // UPDATED CARB CYCLING LOGIC
    // High Output Days = Higher Macros
    const isHighOutput = ["HEAVY LIFT", "BOXING", "CS4"].includes(sch[idx]);
    
    let baseP = 165;
    let baseC = isHighOutput ? 160 : 85;  // Higher carbs for heavy/boxing days
    let baseK = isHighOutput ? 2200 : 1800;

    const g=(user==='J') ? {P:baseP, C:baseC, K:baseK} : {P:105, C:55, K:1300};
    
    // SCALE MACROS BASED ON USER
    const sc = (user==='J') ? 1 : 0.6; 
    
    let sPro = dailySnack ? parseInt(dailySnack[4]) : 0;
    let sCarb = dailySnack ? parseInt(dailySnack[5]) : 0;
    let sCal = dailySnack ? parseInt(dailySnack[6]) : 0;

    // Apply scaler to meals only
    let p = Math.round((parseInt(b[4]) + parseInt(l[4]) + parseInt(dn[4]))*sc) + j[2] + sPro;
    let c = Math.round((parseInt(b[5]) + parseInt(l[5]) + parseInt(dn[5]))*sc) + j[3] + sCarb;
    let k = Math.round((parseInt(b[6]) + parseInt(l[6]) + parseInt(dn[6]))*sc) + j[4] + sCal;

    // Define Portions
    const ptn = (user==='J') 
        ? { b: '4 Eggs', l: '8oz', d: '8oz' } 
        : { b: '2 Eggs', l: '5oz', d: '5oz' };

    let snackHTML = '';
    if(!dailySnack) {
        // SMALL SNACK BOX (60% WIDTH)
        snackHTML = `<div onclick="openSnackSelector()" style="background:#0a0a0a; border:1px dashed #333; border-radius:20px; padding:8px; width:60%; margin:0 auto 15px auto; text-align:center; color:#666; font-size:0.6rem; font-weight:700; cursor:pointer;">‚ûï TAP TO SELECT SNACK</div>`;
    } else {
        snackHTML = `<div class="value" onclick="openSnackSelector()">${dailySnack[0]} <span style="font-size:0.6rem;color:var(--green);float:right">+${sPro}g Pro</span></div>`;
    }
    
    // WORKOUT FLOW LOGIC
    const wName = sch[idx];
    const proto = pDB[wName] || pDB["RELAX"];

    document.getElementById('dayContent').innerHTML = `
        <div style="background:#0a0a0a; border:1px solid #222; border-bottom:4px solid var(--blue); padding:15px; border-radius:12px; margin-bottom:25px; cursor:pointer;" onclick="openRecoveryPhase('${wName}')">
            <div style="display:flex; justify-content:space-between; align-items:center; text-align:center;">
                
                <div style="flex:1">
                    <div style="font-size:0.5rem; color:#666; font-weight:900; letter-spacing:1px">WARM UP</div>
                    <div style="font-size:0.7rem; color:#fff; margin-top:4px">${proto[0].h}</div>
                </div>

                <div style="color:var(--blue); font-size:0.8rem; padding:0 8px">‚ûú</div>

                <div style="flex:1.2">
                    <div style="font-size:0.5rem; color:var(--blue); font-weight:900; letter-spacing:1px">WORKOUT</div>
                    <div style="font-size:0.85rem; color:#fff; font-weight:900; margin-top:4px">${wName}</div>
                </div>

                <div style="color:var(--blue); font-size:0.8rem; padding:0 8px">‚ûú</div>

                <div style="flex:1">
                    <div style="font-size:0.5rem; color:#666; font-weight:900; letter-spacing:1px">RECOVER</div>
                    <div style="font-size:0.7rem; color:#fff; margin-top:4px">${proto[2].h}</div>
                </div>

            </div>
            <div style="text-align:center; font-size:0.55rem; color:#444; margin-top:12px; letter-spacing:1px">TAP CARD FOR FULL GUIDE</div>
        </div>

        <div style="display:flex; justify-content:space-between; align-items:center; border-bottom:1px solid #222; margin-bottom:15px; padding-bottom:5px">
            <div style="color:#444; font-size:0.6rem; font-weight:900; letter-spacing:2px">NUTRITION PROTOCOL</div>
            <div onclick="generateGroceryList()" style="color:var(--gold); font-size:0.6rem; font-weight:900; cursor:pointer">üõí GROCERY LIST</div>
        </div>
        
        <div class="label">üß¨ Daily Essentials</div>
        <div style="display:flex; gap:10px; margin-bottom:15px">
            <div onclick="openM('Sea Moss')" style="flex:1; background:#111; border:1px solid #333; padding:10px; border-radius:10px; text-align:center; font-size:0.8rem; font-weight:700; cursor:pointer;">Sea Moss üåø</div>
            <div onclick="openM('Kombucha')" style="flex:1; background:#111; border:1px solid #333; padding:10px; border-radius:10px; text-align:center; font-size:0.8rem; font-weight:700; cursor:pointer;">Kombucha ü•É</div>
        </div>

        <div class="label">üç≥ Breakfast <span class="portion-tag">‚Ä¢ ${ptn.b}</span></div>
        <div class="value" onclick="openR('${b[0]}','${b[1]}','${b[2]}','${b[3]}')">
            <span>${b[0]}</span> <span class="macro-pill">${Math.round(b[4]*sc)}P ${Math.round(b[5]*sc)}C ${Math.round(b[6]*sc)}K</span>
        </div>
        
        <div class="label">ü•ó Lunch <span class="portion-tag">‚Ä¢ ${ptn.l}</span></div>
        <div class="value" onclick="openR('${l[0]}','${l[1]}','${l[2]}','${l[3]}')">
            <span>${l[0]} üíº</span> <span class="macro-pill">${Math.round(l[4]*sc)}P ${Math.round(l[5]*sc)}C ${Math.round(l[6]*sc)}K</span>
        </div>
        
        <div class="label">üçΩÔ∏è Dinner <span class="portion-tag">‚Ä¢ ${ptn.d}</span></div>
        <div class="value" onclick="openR('${dn[0]}','${dn[1]}','${dn[2]}','${dn[3]}')">
            <span>${dn[0]}</span> <span class="macro-pill">${Math.round(dn[4]*sc)}P ${Math.round(dn[5]*sc)}C ${Math.round(dn[6]*sc)}K</span>
        </div>
        
        <div class="label">ü•ú Snack Option</div>
        ${snackHTML}

        <div class="macro-dashboard">
            <div class="macro-row"><div class="macro-label"><span>PROTEIN</span><span>${p}g / ${g.P}g</span></div><div class="macro-bg"><div class="macro-fill" style="width:${Math.min((p/g.P)*100,100)}%; background:var(--g-pro)"></div></div></div>
            <div class="macro-row"><div class="macro-label"><span>CARBS</span><span>${c}g / ${g.C}g</span></div><div class="macro-bg"><div class="macro-fill" style="width:${Math.min((c/g.C)*100,100)}%; background:var(--g-carb)"></div></div></div>
            <div class="macro-row"><div class="macro-label"><span>CALORIES</span><span>${k} / ${g.K}</span></div><div class="macro-bg"><div class="macro-fill" style="width:${Math.min((k/g.K)*100,100)}%; background:var(--g-cal)"></div></div></div>
        </div>
        <div class="card" style="text-align:center"><div class="label" style="color:var(--gold)">Kuvings Cold Pressed</div><div class="juice-name" onclick="openJ('${jcs[idx]}')">${jcs[idx]}</div></div>`;
}

function openSnackSelector() {
    const modalBody = document.getElementById('mBody');
    document.getElementById('mTitle').innerText = "SELECT SNACK";
    document.getElementById('mSub').innerText = "CALCULATES MACROS AUTOMATICALLY";
    
    let html = '';
    mDB.s.forEach((item, index) => {
        let s = item.split('|');
        html += `<div class="value" onclick="applySnack(${index})">
            ${s[0]} 
            <span style="float:right;font-size:0.7rem;color:#666">${s[4]}g Pro | ${s[6]} Cal</span>
        </div>`;
    });
    
    modalBody.innerHTML = html;
    document.getElementById('mTip').innerText = "PRO TIP: Prioritize high-protein snacks on Heavy Lift days.";
    document.getElementById('masterModal').style.display = 'block';
}

function applySnack(idx) {
    dailySnack = mDB.s[idx].split('|');
    document.getElementById('masterModal').style.display = 'none';
    const mon=getMon(offset);
    const dayDiff = Math.floor((selDate - mon) / 864e5);
    showDay(selDate, dayDiff);
}

function openR(n,i,a,t){
    document.getElementById('mTitle').innerText=n; document.getElementById('mSub').innerText="Prep: "+i;
    let s = (a==='sear')?["Temper 15m.","High sear 4m/side.","Rest 5m."]:(a==='roll')?["Whisk eggs.","Roll tightly."]:["Prep components.","Assemble.","Serve fresh."];
    
    // Handle the prep/benefit text (index 3)
    document.getElementById('mBody').innerHTML = `${t}`;
    document.getElementById('mTip').innerText = ""; 
    document.getElementById('masterModal').style.display='block';
}

function openM(n){
    const d=rDB[n]; document.getElementById('mTitle').innerText=n; document.getElementById('mSub').innerText=d[0];
    document.getElementById('mBody').innerHTML=d.slice(1).map(x=>`<p>${x}</p>`).join('');
    document.getElementById('mTip').innerText = "PRO TIP: Consistency beats intensity for recovery protocols.";
    document.getElementById('masterModal').style.display='block';
}

function openJ(n){
    const d=jDB[n]; document.getElementById('mTitle').innerText=n; document.getElementById('mSub').innerText=d[0];
    document.getElementById('mBody').innerHTML=`<p><strong>Ingredients:</strong> ${d[1]}</p><p>P: ${d[2]}g | C: ${d[3]}g | Kcal: ${d[4]}</p>`;
    document.getElementById('mTip').innerText = "PRO TIP: Drink slowly to allow enzymes to activate digestion.";
    document.getElementById('masterModal').style.display='block';
}

function openRecoveryPhase(workout) {
    const m = document.getElementById('mBody');
    document.getElementById('mTitle').innerText = workout + " PROTOCOL";
    document.getElementById('mSub').innerText = "V222.61 FLOW LOGIC";
    
    // Use the global pDB
    const active = pDB[workout] || pDB["RELAX"];
    
    let html = '<div class="rec-phase-list">';
    
    // 0: PRE
    html += `<div class="phase-item"><span class="phase-time">WARM UP</span><span class="phase-title">${active[0].h}</span><span class="phase-detail">${active[0].d}</span></div>`;
    // 1: GYM
    html += `<div class="phase-item"><span class="phase-time" style="color:#fff">TRAINING</span><span class="phase-title">${active[1].h}</span><span class="phase-detail">${active[1].d}</span></div>`;
    // 2: POST
    html += `<div class="phase-item"><span class="phase-time" style="color:var(--purple)">RECOVERY</span><span class="phase-title">${active[2].h}</span><span class="phase-detail">${active[2].d}</span></div>`;

    html += '</div>';

    m.innerHTML = html;
    document.getElementById('mTip').innerText = "TIP: Hydrate with minerals before Sauna sessions.";
    document.getElementById('masterModal').style.display = 'block';
}

function generateGroceryList() {
    const modalBody = document.getElementById('mBody');
    document.getElementById('mTitle').innerText = "WEEKLY GROCERY LIST";
    document.getElementById('mSub').innerText = "BASED ON CURRENT WEEK ROTATION";
    
    let list = [];
    const mon = getMon(offset);
    
    // Loop through 7 days
    for(let i=0; i<7; i++) {
        let d = new Date(mon); d.setDate(mon.getDate()+i);
        let id = Math.floor(d.getTime()/864e5);
        
        // Get meals
        let bItem = mDB.b[Math.abs(id) % mDB.b.length];
        let lItem = mDB.l[Math.abs(id) % mDB.l.length];
        let dItem = mDB.d[Math.abs(id) % mDB.d.length];
        
        // Push ingredients (index 1) to list
        list.push(...bItem.split('|')[1].split(','));
        list.push(...lItem.split('|')[1].split(','));
        list.push(...dItem.split('|')[1].split(','));
    }
    
    // Dedupe and sort
    let uniqueList = [...new Set(list.map(i => i.trim()))].sort();
    
    let html = `<div style="max-height:300px; overflow-y:auto; padding-right:10px;">`;
    uniqueList.forEach(item => {
        html += `<div class="grocery-item">‚¨ú ${item}</div>`;
    });
    html += `</div>`;
    
    modalBody.innerHTML = html;
    document.getElementById('mTip').innerText = "TIP: Check pantry staples before shopping.";
    document.getElementById('masterModal').style.display = 'block';
}

function closeM(){ document.getElementById('masterModal').style.display='none' }
window.onload=render;
</script>
</body>
</html>