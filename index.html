<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>The Centurion | v3400.0 Kinetic Command</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Inter:wght@300;400;600;800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-deep: #000000;
            --bg-panel: #0a0a0a;
            --border: #222;
            --acid: #ccff00;
            --cyan: #00f0ff;
            --gold: #FFD60A;
            --alert: #ff453a;
            --text-main: #ffffff;
            --text-muted: #666;
            --font-ui: 'Inter', sans-serif;
            --font-data: 'JetBrains Mono', monospace;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body { margin: 0; padding: 0 0 80px 0; background: var(--bg-deep); color: var(--text-main); font-family: var(--font-ui); min-height: 100vh; background-image: radial-gradient(circle at top, #111 0%, #000 80%); }

        /* --- HEADER --- */
        .hud-header { padding: 20px 16px; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid var(--border); background: rgba(0,0,0,0.9); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 100; }
        .app-name { font-size: 0.6rem; font-weight: 900; letter-spacing: 2px; color: var(--text-muted); }
        .live-badge { font-family: var(--font-data); font-size: 0.55rem; color: var(--acid); border: 1px solid var(--acid); padding: 2px 6px; border-radius: 4px; animation: blink 2s infinite; }
        .user-switch { display: flex; gap: 4px; background: #222; padding: 2px; border-radius: 20px; }
        .u-btn { padding: 4px 12px; border-radius: 16px; font-size: 0.6rem; font-weight: 700; color: #666; background: transparent; border: none; cursor: pointer; }
        .u-btn.active { background: var(--text-main); color: #000; }

        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.4; } 100% { opacity: 1; } }

        /* --- THE KINETIC RING (Live Progress) --- */
        .kinetic-section { padding: 30px 16px 20px; text-align: center; position: relative; }
        
        .ring-container { width: 180px; height: 180px; margin: 0 auto; position: relative; display: flex; align-items: center; justify-content: center; }
        .ring-svg { transform: rotate(-90deg); width: 100%; height: 100%; }
        .ring-circle-bg { fill: none; stroke: var(--border); stroke-width: 8; }
        .ring-circle-fg { fill: none; stroke: var(--acid); stroke-width: 8; stroke-dasharray: 440; stroke-dashoffset: 440; transition: stroke-dashoffset 1s ease; stroke-linecap: round; }
        
        .ring-data { position: absolute; display: flex; flex-direction: column; align-items: center; }
        .ring-val { font-family: var(--font-data); font-size: 2.8rem; font-weight: 700; color: #fff; letter-spacing: -2px; line-height: 1; }
        .ring-sub { font-size: 0.65rem; font-weight: 700; color: var(--text-muted); letter-spacing: 2px; margin-top: 5px; }
        .delta-tag { font-family: var(--font-data); font-size: 0.7rem; color: var(--gold); margin-top: 5px; background: rgba(255, 214, 10, 0.1); padding: 2px 8px; border-radius: 4px; }

        /* --- TACTICAL DECISION MODULE --- */
        .decision-box { margin: 0 16px 25px; background: linear-gradient(90deg, rgba(204, 255, 0, 0.05) 0%, transparent 100%); border: 1px solid var(--border); border-left: 4px solid var(--acid); border-radius: 12px; padding: 15px; }
        .decision-label { font-size: 0.6rem; font-weight: 900; color: var(--acid); letter-spacing: 1px; margin-bottom: 5px; text-transform: uppercase; }
        .decision-text { font-size: 1rem; font-weight: 700; color: #fff; margin-bottom: 5px; }
        .decision-meta { font-family: var(--font-data); font-size: 0.65rem; color: var(--text-muted); }

        /* --- LIVE TELEMETRY GRID --- */
        .telemetry-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; padding: 0 16px; margin-bottom: 30px; }
        .t-card { background: var(--bg-panel); border: 1px solid var(--border); border-radius: 12px; padding: 15px; position: relative; overflow: hidden; }
        .t-card::after { content: ''; position: absolute; bottom: 0; left: 0; height: 3px; background: var(--border); width: 100%; }
        .t-bar { position: absolute; bottom: 0; left: 0; height: 3px; background: var(--cyan); width: 0%; transition: width 1s ease; }
        
        .t-label { font-size: 0.6rem; color: var(--text-muted); text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; display: flex; justify-content: space-between; }
        .t-val { font-family: var(--font-data); font-size: 1.4rem; font-weight: 700; color: #fff; }
        .t-sub { font-size: 0.65rem; color: var(--text-muted); margin-top: 2px; }
        
        /* LIVE PULSE DOT */
        .live-dot { width: 6px; height: 6px; background: var(--alert); border-radius: 50%; display: inline-block; box-shadow: 0 0 5px var(--alert); animation: pulse-fast 1s infinite; }
        @keyframes pulse-fast { 0% { opacity: 1; } 50% { opacity: 0.3; } 100% { opacity: 1; } }

        /* --- GOALS LIST --- */
        .goals-container { padding: 0 16px; }
        .section-title { font-size: 0.7rem; font-weight: 900; color: var(--text-muted); letter-spacing: 1px; margin-bottom: 15px; border-bottom: 1px solid var(--border); padding-bottom: 10px; }
        
        .goal-row { display: flex; justify-content: space-between; align-items: center; padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05); }
        .g-info { display: flex; gap: 10px; align-items: center; }
        .g-icon { width: 30px; height: 30px; background: rgba(255,255,255,0.05); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; }
        .g-text { font-size: 0.8rem; font-weight: 600; color: #fff; }
        .g-target { font-family: var(--font-data); font-size: 0.75rem; color: var(--text-muted); text-align: right; }
        .g-status { font-size: 0.65rem; color: var(--acid); font-weight: 700; }

        /* SYNC FOOTER */
        .sync-footer { position: fixed; bottom: 0; left: 0; width: 100%; background: #000; padding: 15px; border-top: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center; font-family: var(--font-data); font-size: 0.6rem; color: #555; z-index: 200; }

    </style>
</head>
<body>

    <div class="hud-header">
        <div class="app-name">KINETIC COMMAND</div>
        <div class="live-badge">LIVE FEED ACTIVE</div>
        <div class="user-switch">
            <button id="btn-J" class="u-btn active" onclick="kinetic.loadUser('J')">JER</button>
            <button id="btn-S" class="u-btn" onclick="kinetic.loadUser('S')">SOPH</button>
        </div>
    </div>

    <div class="kinetic-section">
        <div class="ring-container">
            <svg class="ring-svg">
                <circle class="ring-circle-bg" cx="90" cy="90" r="70"></circle>
                <circle id="activity-ring" class="ring-circle-fg" cx="90" cy="90" r="70"></circle>
            </svg>
            <div class="ring-data">
                <div class="ring-val" id="activity-score">--</div>
                <div class="ring-sub">ACTIVITY SCORE</div>
                <div class="delta-tag" id="readiness-tag">READINESS: --</div>
            </div>
        </div>
    </div>

    <div class="decision-box">
        <div class="decision-label">TACTICAL EXERCISE COMMAND</div>
        <div class="decision-text" id="live-command">CALCULATING...</div>
        <div class="decision-meta" id="live-reason">Syncing bio-metrics...</div>
    </div>

    <div class="telemetry-grid">
        <div class="t-card">
            <div class="t-label"><span>ACTIVE CAL</span><span class="live-dot"></span></div>
            <div class="t-val" id="cal-val">--</div>
            <div class="t-sub" id="cal-goal">GOAL: --</div>
            <div class="t-bar" id="cal-bar"></div>
        </div>
        <div class="t-card">
            <div class="t-label"><span>STEPS</span></div>
            <div class="t-val" id="step-val">--</div>
            <div class="t-sub" id="step-delta">-- REMAINING</div>
            <div class="t-bar" id="step-bar" style="background:var(--gold)"></div>
        </div>
        <div class="t-card">
            <div class="t-label"><span>LIVE HR</span><span class="live-dot"></span></div>
            <div class="t-val" id="hr-val">--</div>
            <div class="t-sub">RHR: <span id="rhr-val">--</span></div>
        </div>
        <div class="t-card">
            <div class="t-label"><span>WALK EQUIV</span></div>
            <div class="t-val" id="walk-val">--</div>
            <div class="t-sub">MILES</div>
        </div>
    </div>

    <div class="goals-container">
        <div class="section-title">PERFORMANCE TARGETS</div>
        <div id="goals-list">
            </div>
    </div>

    <div class="sync-footer">
        <div>DATA SOURCE: OURA V2 API</div>
        <div id="sync-time">UPDATING...</div>
    </div>

<script>
/**
 * CENTURION v3400.0 - KINETIC COMMAND
 * Logic: Live Telemetry + Real-Time Decision Making
 */

const USERS = {
    'J': { 
        name: "Jermaine", 
        goals: { cal: 700, steps: 10000, workouts: 5 },
        focus: "VF REDUCTION", // Visceral Fat
        rhr_baseline: 48
    },
    'S': { 
        name: "Sophia", 
        goals: { cal: 450, steps: 12000, workouts: 4 },
        focus: "CORTISOL MGMT",
        rhr_baseline: 58
    }
};

class KineticEngine {
    constructor() {
        this.user = 'J';
        this.simInterval = null;
        // Mock Live Data Store
        this.liveData = {
            cal: 0,
            steps: 0,
            hr: 0,
            readiness: 0,
            activity_score: 0
        };
        this.init();
    }

    init() {
        this.loadUser('J');
        this.startLiveSimulation(); // Mocks the "Live Feed"
    }

    loadUser(uid) {
        this.user = uid;
        document.querySelectorAll('.u-btn').forEach(b => b.classList.remove('active'));
        document.getElementById(`btn-${uid}`).classList.add('active');
        
        // Reset Simulation Data for new user
        this.liveData = {
            cal: uid === 'J' ? 420 : 310, // Mid-day snapshot
            steps: uid === 'J' ? 6500 : 8200,
            hr: uid === 'J' ? 65 : 72,
            readiness: uid === 'J' ? 88 : 72,
            activity_score: uid === 'J' ? 78 : 85
        };
        
        this.updateHUD();
        this.generateTacticalCommand();
    }

    // 1. LIVE DATA SIMULATION (The "Pulse")
    startLiveSimulation() {
        if (this.simInterval) clearInterval(this.simInterval);
        
        this.simInterval = setInterval(() => {
            // Heart Rate Fluctuation
            const baseHR = this.liveData.hr;
            const fluctuation = Math.floor(Math.random() * 5) - 2;
            document.getElementById('hr-val').innerText = (baseHR + fluctuation) + " BPM";
            
            // Calorie Tick (Every 3 seconds)
            if (new Date().getSeconds() % 3 === 0) {
                this.liveData.cal += 1;
                this.updateHUD();
            }
            
            document.getElementById('sync-time').innerText = "UPDATED: " + new Date().toLocaleTimeString();
        }, 1000);
    }

    // 2. HUD RENDERER
    updateHUD() {
        const u = USERS[this.user];
        const d = this.liveData;

        // Ring Calculation
        const radius = 70;
        const circumference = 2 * Math.PI * radius;
        const offset = circumference - (d.activity_score / 100) * circumference;
        
        const ringFg = document.getElementById('activity-ring');
        ringFg.style.strokeDasharray = `${circumference} ${circumference}`;
        ringFg.style.strokeDashoffset = offset;
        
        // Color Logic
        const color = d.activity_score >= 85 ? 'var(--acid)' : 'var(--gold)';
        ringFg.style.stroke = color;
        document.getElementById('activity-score').innerText = d.activity_score;
        document.getElementById('readiness-tag').innerText = `READINESS: ${d.readiness}`;

        // Telemetry Cards
        this.updateCard('cal', d.cal, u.goals.cal, "CAL");
        this.updateCard('step', d.steps, u.goals.steps, "");
        
        // Walking Equivalency (Approx 2000 steps = 1 mile)
        const miles = (d.steps / 2000).toFixed(1);
        document.getElementById('walk-val').innerText = miles;
        
        document.getElementById('rhr-val').innerText = u.rhr_baseline;

        // Goals List
        this.renderGoals(u, d);
    }

    updateCard(id, current, goal, unit) {
        document.getElementById(`${id}-val`).innerText = current;
        
        const delta = goal - current;
        const deltaText = delta > 0 ? `-${delta} ${unit} TO GO` : "GOAL MET âœ“";
        const deltaEl = document.getElementById(`${id}-delta`);
        if (deltaEl) deltaEl.innerText = deltaText;
        if (document.getElementById(`${id}-goal`)) document.getElementById(`${id}-goal`).innerText = `GOAL: ${goal}`;

        // Bar Width
        const pct = Math.min((current / goal) * 100, 100);
        document.getElementById(`${id}-bar`).style.width = `${pct}%`;
    }

    // 3. TACTICAL DECISION ENGINE (The Brain)
    generateTacticalCommand() {
        const u = USERS[this.user];
        const d = this.liveData;
        const hour = new Date().getHours();
        
        let command = "";
        let reason = "";
        let style = "var(--acid)"; // Default Green

        // LOGIC MATRIX
        if (d.readiness < 70) {
            // LOW READINESS = RECOVERY
            command = "INITIATE ACTIVE RECOVERY";
            reason = `Readiness ${d.readiness}% indicates CNS fatigue. Prioritize Zone 2 to clear lactate.`;
            style = "var(--gold)";
        } else if (d.cal < (u.goals.cal * 0.5) && hour >= 16) {
            // BEHIND ON CALORIES LATE IN DAY
            command = "METABOLIC GAP DETECTED";
            reason = `Deficit of ${u.goals.cal - d.cal} cals. Execute 30m Ruck or HIIT Session immediately.`;
            style = "var(--alert)";
        } else if (d.steps < (u.goals.steps * 0.4) && hour >= 14) {
            // SEDENTARY ALERT
            command = "FLUSH ADENOSINE";
            reason = "Step count critical. 20m Walk required to reset cortisol/insulin.";
            style = "var(--cyan)";
        } else {
            // OPTIMAL STATE
            command = "MAINTAIN OUTPUT VELOCITY";
            reason = "Systems Nominal. You are on track to hit all metabolic targets.";
            style = "var(--acid)";
        }

        const box = document.querySelector('.decision-box');
        box.style.borderLeftColor = style;
        document.querySelector('.decision-label').style.color = style;
        document.getElementById('live-command').innerText = command;
        document.getElementById('live-reason').innerText = reason;
    }

    renderGoals(u, d) {
        const list = document.getElementById('goals-list');
        const calPct = Math.round((d.cal / u.goals.cal) * 100);
        const stepPct = Math.round((d.steps / u.goals.steps) * 100);
        
        list.innerHTML = `
            <div class="goal-row">
                <div class="g-info">
                    <div class="g-icon">ðŸ”¥</div>
                    <div class="g-text">Metabolic Output</div>
                </div>
                <div>
                    <div class="g-target">${d.cal} / ${u.goals.cal}</div>
                    <div class="g-status" style="color:${calPct >= 100 ? 'var(--acid)' : '#666'}">${calPct}%</div>
                </div>
            </div>
            <div class="goal-row">
                <div class="g-info">
                    <div class="g-icon">ðŸ‘Ÿ</div>
                    <div class="g-text">Kinetic Volume</div>
                </div>
                <div>
                    <div class="g-target">${d.steps} / ${u.goals.steps}</div>
                    <div class="g-status" style="color:${stepPct >= 100 ? 'var(--acid)' : '#666'}">${stepPct}%</div>
                </div>
            </div>
        `;
    }
}

const kinetic = new KineticEngine();

</script>
</body>
</html>