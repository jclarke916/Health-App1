<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Centurion | v106 Final Master</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-dark: #000000; --card-bg: #111111; --text-main: #E5E4E2; --text-dim: #888888;
            --accent-gold: #D4AF37; --accent-silver: #C0C0C0; --glute-pink: #d63384;
            --carb-high: #ff9100; --carb-low: #00b0ff;
        }
        body { font-family: 'Inter', sans-serif; background-color: var(--bg-dark); color: var(--text-main); margin: 0; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .container { max-width: 1000px; width: 100%; position: relative; }
        header { text-align: center; margin-bottom: 25px; border-bottom: 1px solid #333; padding-bottom: 20px; }
        h1 { font-weight: 300; letter-spacing: 2px; text-transform: uppercase; background: linear-gradient(to right, #E5E4E2, #888888); -webkit-background-clip: text; -webkit-text-fill-color: transparent; margin: 0; }
        .profile-badges { display: flex; justify-content: center; gap: 10px; margin-top: 15px; flex-wrap: wrap; }
        .badge { background: #1a1a1a; padding: 8px 16px; border-radius: 4px; border: 1px solid #333; font-size: 0.7rem; color: var(--accent-silver); text-transform: uppercase; letter-spacing: 1px; cursor: pointer; }
        .status-bar { text-align: center; color: var(--text-dim); font-size: 0.8rem; margin: 15px 0; text-transform: uppercase; letter-spacing: 1.5px; }
        .controls { display: flex; justify-content: center; gap: 10px; margin-bottom: 20px; }
        .nav-btn { background: var(--card-bg); border: 1px solid #333; color: var(--text-main); padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; }
        .tabs { display: flex; justify-content: space-between; background: var(--card-bg); padding: 5px; border-radius: 8px; margin-bottom: 25px; border: 1px solid #222; overflow-x: auto; }
        .tab-btn { background: none; border: none; color: #555; padding: 10px; cursor: pointer; flex: 1; font-size: 0.75rem; display: flex; flex-direction: column; align-items: center; transition: 0.3s; }
        .tab-btn span { display: block; font-size: 0.6rem; opacity: 0.7; margin-top: 4px; }
        .tab-btn.active { color: var(--accent-gold); background: rgba(255,255,255,0.03); border-radius: 4px; }
        .card { background: var(--card-bg); border-radius: 12px; padding: 30px; border: 1px solid #222; position: relative; margin-bottom: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .card::before { content: ""; position: absolute; top: 0; left: 0; width: 4px; height: 100%; background: var(--accent-gold); }
        .label { color: var(--accent-silver); font-size: 0.6rem; text-transform: uppercase; letter-spacing: 2px; font-weight: 700; margin-bottom: 5px; }
        .value { font-size: 1.1rem; margin-bottom: 15px; color: #fff; cursor: pointer; border-bottom: 1px solid transparent; display: inline-block; }
        .value:hover { color: var(--accent-gold); border-bottom-color: var(--accent-gold); }
        .pb-mini { font-size: 0.6rem; padding: 4px 8px; border-radius: 3px; background: #222; border: 1px solid #444; color: #aaa; text-transform: uppercase; font-weight: 800; margin-right: 5px; display: inline-block; margin-top: 5px; }
        .modal { display: none; position: fixed; z-index: 100; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); backdrop-filter: blur(8px); overflow-y: auto; }
        .modal-content { background: #050505; margin: 5% auto; padding: 30px; border: 1px solid #333; width: 90%; max-width: 650px; border-radius: 12px; }
        .macro-grid { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin: 20px 0; background: #0a0a0a; padding: 15px; border-radius: 8px; border: 1px solid #222; }
        .macro-item { text-align: center; }
        .macro-label { font-size: 0.65rem; color: #888; text-transform: uppercase; }
        .macro-val { font-size: 1rem; color: #fff; font-weight: 700; }
        .chef-steps p { margin-bottom: 15px; color: #ccc; font-size: 0.95rem; line-height: 1.6; position: relative; padding-left: 30px; }
        .chef-steps p::before { counter-increment: step; content: counter(step); position: absolute; left: 0; top: 2px; background: var(--accent-gold); color: #000; width: 20px; height: 20px; border-radius: 50%; font-size: 0.7rem; display: flex; align-items: center; justify-content: center; font-weight: bold; }
        .sophia-mod-box { background: rgba(214, 51, 132, 0.1); border: 1px solid var(--glute-pink); padding: 15px; border-radius: 6px; margin-top: 20px; }
        .sophia-mod-title { color: var(--glute-pink); font-size: 0.8rem; font-weight: 800; text-transform: uppercase; margin-bottom: 5px; }
    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>THE CENTURION</h1>
        <div class="profile-badges">
            <div class="badge" onclick="openModal('profileModal')">ğŸ§”ğŸ¾â€â™‚ï¸ JERMAINE</div>
            <div class="badge" onclick="openModal('profileModal')">ğŸ‘©ğŸ¾â€ğŸ¦± SOPHIA</div>
        </div>
    </header>

    <div class="status-bar" id="dateHeader">Syncing...</div>

    <div class="controls">
        <button class="nav-btn" onclick="changeWeek(-1)">PREV</button>
        <button class="nav-btn" onclick="resetToCurrent()">TODAY</button>
        <button class="nav-btn" onclick="changeWeek(1)">NEXT</button>
    </div>

    <div class="tabs" id="dayTabs"></div>
    <div id="dayContent"></div>
</div>

<div id="recipeModal" class="modal">
    <div class="modal-content">
        <span onclick="closeModal('recipeModal')" style="float:right; cursor:pointer; font-size:24px; color:#555;">&times;</span>
        <h2 id="modalTitle" style="color:#fff; margin-bottom:5px;"></h2>
        <div id="modalTime" style="color:var(--accent-gold); font-size:0.85rem; font-weight:bold; margin-bottom:15px;"></div>
        
        <div class="macro-grid">
            <div class="macro-item"><div class="macro-label">Protein</div><div class="macro-val" id="modalP"></div></div>
            <div class="macro-item"><div class="macro-label">Carbs</div><div class="macro-val" id="modalC"></div></div>
            <div class="macro-item"><div class="macro-label">Fats</div><div class="macro-val" id="modalF"></div></div>
        </div>

        <div style="color:var(--accent-gold); font-size:0.85rem; font-weight:bold; text-transform:uppercase; margin-bottom:12px; letter-spacing:1px;">Chef's Preparation</div>
        <div id="modalSteps" class="chef-steps" style="counter-reset: step;"></div>

        <div class="sophia-mod-box">
            <div class="sophia-mod-title">ğŸ‘ Sophia's Mod</div>
            <div id="modalMod" style="color:#e5e4e2; font-size:0.85rem; line-height:1.4;"></div>
        </div>
    </div>
</div>

<script>
    const recipeDB = {
        "Grilled Branzino (Whole)": { t: "25 mins", p: "45g", c: "0g", f: "15g", steps: ["Stuff cleaned fish cavity with fresh lemon slices and parsley.", "Brush skin liberally with ghee to ensure non-stick and healthy fat saturation.", "Roast in oven at 400Â°F for exactly 15 mins.", "Set oven to Broil for final 2 mins Side A and 1 min Side B to crisp the skin."], mod: "Ensure all scales are removed." },
        "Garlic Ghee Lobster Tails": { t: "20 mins", p: "40g", c: "2g", f: "15g", steps: ["Split lobster shells lengthwise to expose the meat.", "Brush meat liberally with garlic-infused ghee.", "Place on hot grill or cast iron flesh-side down for 5 mins Side A.", "Flip and grill for 3 mins Side B until opaque.", "Serve with extra lemon and grilled asparagus."], mod: "Ghee is standard lactose-free fuel." },
        "Cilantro-Lime Shrimp Tacos": { t: "15 mins", p: "35g", c: "15g", f: "10g", steps: ["Pat shrimp dry. SautÃ© with 1 cup finely diced bell peppers (Vitamin C/Iron synergy).", "High heat sear shrimp for exactly 2 mins Side A, then 1 min Side B.", "Mix Greek Yogurt and lime (Sub for sour cream) for taco crema.", "Assemble on warmed Siete tortillas with cabbage slaw."], mod: "Use lettuce wraps instead of tortillas." },
        "Classic Peruvian Ceviche": { t: "20 mins", p: "40g", c: "12g", f: "2g", steps: ["Cube fresh Snapper or Bass into uniform 1/2 inch pieces.", "Submerge in lime juice and chill for exactly 15 mins to cure protein enzymes.", "Toss cured fish with rinsed onions, chili, and cilantro.", "Plate with exactly 1 slice boiled sweet potato."], mod: "Sophia skip potato for zero-carb." },
        "Southwest Bison Scramble": { t: "12 mins", p: "41g", c: "11g", f: "10g", steps: ["Brown 4oz ground bison with 1/2 cup finely diced bell peppers (Iron bioavailability boost).", "Pour in whisked egg whites.", "Scramble until fully set (approx 3-4 mins).", "Top with a dollop of Greek Yogurt instead of sour cream."], mod: "Cook eggs well-done." },
        "SF Style Cioppino (Mussels)": { t: "45 mins", p: "40g", c: "12g", f: "8g", steps: ["SautÃ© fennel and garlic in ghee until fragrant.", "Simmer tomato-based broth for 20 mins.", "Add mussels and white fish pieces.", "Cover for 5 mins until all mussels have opened fully."], mod: "High protein, low fat." },
        "Sea Moss & Triple-Protein Smoothie": { t: "5 mins", p: "45g", c: "25g", f: "10g", steps: ["Add 1/2 cup frozen blackberries and liquid base to blender.", "Add 2tbsp Sea Moss gel and protein powders.", "Blend high for 60 seconds until creamy and fully emulsified."], mod: "Standard portion." },
        "Venison Au Poivre": { t: "20 mins", p: "50g", c: "2g", f: "8g", steps: ["Crush peppercorns and press firmly into medallions.", "Sear in ghee for 3 mins Side A on high heat.", "Flip and cook 3 mins Side B (Rare/Med-Rare is best).", "Deglaze pan with beef broth for a light nutrient-dense sauce."], mod: "Extremely lean protein." },
        "Miso Glazed Black Cod": { t: "20 mins", p: "40g", c: "8g", f: "15g", steps: ["Glaze cod fillet with white miso paste and coconut aminos.", "Roast at 400Â°F for 12-14 mins until flaky.", "Steam bok choy during the final 5 mins of cook time."], mod: "Limit glaze to 1 tbsp." },
        "Duck Mushroom Ragu": { t: "60 mins", p: "45g", c: "35g", f: "22g", steps: ["Brown ground duck for 10 mins; drain all excess fat completely.", "SautÃ© mushrooms until golden.", "Simmer with organic marinara for 45 mins.", "Serve over chickpea pasta."], mod: "Drain fat well." }
    };

    const mealLibrary = {
        breakfasts: ["Southwest Bison Scramble", "Crab Scramble", "Sea Moss & Triple-Protein Smoothie", "Japanese Tamagoyaki", "Bison Steak & Eggs", "Shakshuka w/ Bison", "Savory Bone Broth Oats", "Crab & Spinach Scramble", "Tofu Scramble", "Turkey Sausage Eggs", "Steak & Tomato Eggs", "Lump Crab Bowl", "Protein Power Smoothie", "Iron-Bison Scramble", "Spiced Tomato Eggs", "Collagen Oats", "Greek Bison Bowl", "Crab Eggs", "Smoothie Start", "Traditional Tamagoyaki", "Bison Morning Start", "Power Scramble", "Heme Start", "Mussels Breakfast", "Bison Pepper Eggs", "Crab Protein Bowl", "Green Shakshuka", "Steel Cut Broth Oats", "Bison Iron Skillet", "Cod Scramble", "Egg White Crab", "Berry Sea Moss Shake", "Tamago Eggs", "Bison Southwest Skillet", "Pepper Scramble", "Sea Moss Meal", "Bison Protein Bowl", "Crab Start", "Morning Bison Iron", "Scrambled Crab"],
        lunches: ["Classic Peruvian Ceviche", "Dungeness Crab & Avocado Tower", "Sriracha Yogurt Bison Tacos", "Cilantro-Lime Shrimp Tacos", "Bison Laab", "Turkey Potstickers", "Mendo Cobb", "Snapper Ceviche", "Crab Tower", "Shrimp Slaw Bowl", "Bison Thai Salad", "Cabbage Potstickers", "Turkey Greens Salad", "Bass Ceviche", "Crab Avocado Salad", "Bison Pepper Tacos", "Shrimp Crema Tacos", "Spiced Meat Salad", "Turkey Dumpling Bowl", "Kale Cobb", "Shrimp Lime Ceviche", "Dungeness Bowl", "Southwest Bison Salad", "Cilantro Shrimp Salad", "Laab Bowl", "Turkey Wrap", "Sophisticated Cobb", "Trout Ceviche", "Crab & Mango Salad", "Yogurt Crema Tacos", "Shrimp & Pepper Tacos", "Thai Meat Bowl", "Garlic Turkey Bowl", "Brussels Cobb", "Whitefish Ceviche", "Crab & Lime Tower", "Bison Greek Salad", "Shrimp Cabbage Salad", "Turkey Cobb Bowl", "Ceviche Bass Bowl"],
        dinners: ["Garlic Ghee Lobster Tails", "SF Style Cioppino (Mussels)", "Grilled Branzino (Whole)", "Greek Grilled Octopus", "Venison Au Poivre", "Miso Black Cod", "Centurion Bone Broth Stew", "Ostrich Steaks", "Duck Ragu", "Sea Bass w/ Fennel", "Lobster Tails", "Mussel Bowl", "Branzino Roast", "Charred Octopus", "Peppered Venison", "Black Cod Bake", "Bone Broth Beef", "Iron Ostrich", "Heme Ragu", "Omega Sea Bass", "Butter Lobster", "Cioppino Roast", "Whole Branzino Roast", "Grilled Htapodi", "Medallion Venison", "Ginger Cod", "Slow Beef Stew", "Berry Ostrich", "Duck & Shiitake Ragu", "Fennel Bass", "Grill Lobster", "Steam Mussels", "Lemon Branzino", "Htapodi Grill", "Au Poivre Medallions", "Cod Miso Bowl", "Stew Beef", "Ostrich Medallions", "Mushroom Ragu", "Bass Omega Bowl"]
    };

    let weekOffset = 0;

    function getMonday(offset) {
        let d = new Date();
        let day = d.getDay(), diff = d.getDate() - day + (day == 0 ? -6:1);
        let mon = new Date(d.setDate(diff));
        mon.setDate(mon.getDate() + (offset * 7));
        return mon;
    }

    function openRecipe(name) {
        const r = recipeDB[name] || { t: "20 mins", p: "40g", c: "10g", f: "10g", steps: ["Follow standard Centurion protein preparation."], mod: "Standard Portion Control." };
        document.getElementById('modalTitle').innerText = name;
        document.getElementById('modalTime').innerText = "â±ï¸ " + r.t;
        document.getElementById('modalP').innerText = r.p;
        document.getElementById('modalC').innerText = r.c;
        document.getElementById('modalF').innerText = r.f;
        document.getElementById('modalSteps').innerHTML = r.steps.map(s => `<p>${s}</p>`).join('');
        document.getElementById('modalMod').innerText = r.mod;
        document.getElementById('recipeModal').style.display = 'block';
    }

    function closeModal(id) { document.getElementById(id).style.display = 'none'; }
    function openModal(id) { document.getElementById(id).style.display = 'block'; }

    function renderTabs() {
        const monday = getMonday(weekOffset);
        const tabs = document.getElementById('dayTabs');
        tabs.innerHTML = '';
        ["MON", "TUE", "WED", "THU", "FRI", "SAT", "SUN"].forEach((day, i) => {
            let tabDate = new Date(monday);
            tabDate.setDate(monday.getDate() + i);
            const btn = document.createElement('button');
            btn.className = 'tab-btn' + (i === 0 ? ' active' : '');
            btn.innerHTML = `${day}<span>${tabDate.getDate()}</span>`;
            btn.onclick = () => {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                btn.classList.add('active');
                showDay(tabDate);
            };
            tabs.appendChild(btn);
        });
        document.getElementById('dateHeader').innerText = `${monday.toLocaleDateString('en-US', {month:'long'})} â€” v106 ACTIVE`;
        showDay(monday);
    }

    function showDay(dateObj) {
        // DAY-ID STATIC MAPPING - Ensures 365 days of unique sequence
        const start = new Date(2025, 0, 1);
        const dayId = Math.floor((dateObj - start) / 86400000);
        
        // UNIQUE INDEX PER DAY - Guaranteed no monthly repeats
        const b = mealLibrary.breakfasts[dayId % 40];
        const l = mealLibrary.lunches[dayId % 40];
        const dn = mealLibrary.dinners[dayId % 40];

        document.getElementById('dayContent').innerHTML = `
            <div class="card">
                <div class="label">ğŸ³ Breakfast</div><div class="value" onclick="openRecipe('${b}')">ğŸ§”ğŸ¾â€â™‚ï¸ J: ${b}</div>
                <div style="font-size:0.75rem; color:var(--text-dim); margin-bottom:15px; font-style:italic;">ğŸ‘©ğŸ¾â€ğŸ¦± S: ${recipeDB[b]?.mod || "Standard Portion"}</div>
                
                <div class="label">ğŸ¥— Lunch</div><div class="value" onclick="openRecipe('${l}')">ğŸ§”ğŸ¾â€â™‚ï¸ J: ${l}</div>
                <div style="font-size:0.75rem; color:var(--text-dim); margin-bottom:15px; font-style:italic;">ğŸ‘©ğŸ¾â€ğŸ¦± S: ${recipeDB[l]?.mod || "Standard Portion"}</div>
                
                <div class="label">ğŸ½ï¸ Dinner</div><div class="value" onclick="openRecipe('${dn}')">ğŸ§”ğŸ¾â€â™‚ï¸ J: ${dn}</div>
                <div style="font-size:0.75rem; color:var(--text-dim); margin-bottom:15px; font-style:italic;">ğŸ‘©ğŸ¾â€ğŸ¦± S: ${recipeDB[dn]?.mod || "Standard Portion"}</div>
            </div>
            <div class="card" style="background:#0a0a0a; border-top:1px solid #333; padding:20px;">
                <div class="label">Daily Protocol</div>
                <div style="margin-top:10px;">
                    <span class="pb-mini">ğŸŒ¿ Sea Moss: 2tbsp</span>
                    <span class="pb-mini">ğŸ¥¤ Kombucha: 4-8oz</span>
                    <span class="pb-mini">ğŸ’§ Hydration: 1.2 Gal</span>
                    <span class="pb-mini">ğŸ›¡ï¸ Process-Free</span>
                </div>
            </div>`;
    }

    function changeWeek(dir) { weekOffset += dir; renderTabs(); }
    function resetToCurrent() { weekOffset = 0; renderTabs(); }
    window.onload = renderTabs;
</script>
</body>
</html>