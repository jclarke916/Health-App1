<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>v400 Feed</title>

<style>
:root{
  --bg:#0b0b0b;
  --card:#141414;
  --muted:#777;
  --gold:#d4af37;
}

body{
  margin:0;
  font-family:Inter,system-ui;
  background:var(--bg);
  color:#fff;
}

.feed{
  max-width:420px;
  margin:auto;
  padding:16px;
}

.card{
  background:var(--card);
  border-radius:14px;
  margin-bottom:18px;
  overflow:hidden;
}

.card-body{
  padding:14px;
}

.title{
  font-weight:800;
  letter-spacing:.5px;
}

.sub{
  font-size:.75rem;
  color:var(--muted);
  margin-top:4px;
}

.img-wrap{
  position:relative;
  width:100%;
  aspect-ratio:4/3;
  background:#0f0f0f;
}

.loader{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:.7rem;
  color:#888;
}

img{
  width:100%;
  height:100%;
  object-fit:cover;
  display:none;
}
</style>
</head>

<body>

<div class="feed" id="feed"></div>

<script>
/* -----------------------------
   DATA (Scalable)
----------------------------- */
const FEED = [
  {
    name:"Grilled Salmon Bowl",
    note:"Omega-3 • Longevity Fuel",
    text:"Wild salmon, quinoa, olive oil, greens"
  },
  {
    name:"Mediterranean Chicken",
    note:"Lean Protein",
    text:"Herbs, lemon, farro"
  },
  {
    name:"Grass-Fed Steak Plate",
    note:"Iron + Muscle",
    text:"Sweet potato, greens"
  }
];

/* -----------------------------
   IMAGE LOADER (v400)
----------------------------- */
function loadImage(container, mealName){
  const img = container.querySelector("img");
  const loader = container.querySelector(".loader");

  const seed = mealName.length * 777;
  const prompt = encodeURIComponent(
    mealName + " plated food michelin photography"
  );

  const url =
    `https://image.pollinations.ai/prompt/${prompt}` +
    `?width=800&height=600&seed=${seed}&nologo=true&enhance=false`;

  img.src = url;

  img.onload = () => {
    loader.remove();
    img.style.display = "block";
  };

  img.onerror = () => {
    loader.innerText = "Image unavailable";
  };
}

/* -----------------------------
   RENDER
----------------------------- */
function render(){
  const feed = document.getElementById("feed");
  feed.innerHTML = "";

  FEED.forEach(item=>{
    const card = document.createElement("div");
    card.className = "card";

    card.innerHTML = `
      <div class="img-wrap">
        <div class="loader">Generating image…</div>
        <img alt="${item.name}">
      </div>
      <div class="card-body">
        <div class="title">${item.name}</div>
        <div class="sub">${item.note}</div>
        <div class="sub" style="margin-top:6px">${item.text}</div>
      </div>
    `;

    feed.appendChild(card);
    loadImage(card.querySelector(".img-wrap"), item.name);
  });
}

render();
</script>

</body>
</html>